(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[544],{919:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(5105).A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1078:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(5105).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3586:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(5105).A)("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]])},5105:(e,s,r)=>{"use strict";r.d(s,{A:()=>i});var t=r(2115),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(e,s)=>{let r=(0,t.forwardRef)((r,i)=>{let{color:l="currentColor",size:n=24,strokeWidth:c=2,absoluteStrokeWidth:o,className:d="",children:m,...u}=r;return(0,t.createElement)("svg",{ref:i,...a,width:n,height:n,stroke:l,strokeWidth:o?24*Number(c)/Number(n):c,className:["lucide","lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()),d].join(" "),...u},[...s.map(e=>{let[s,r]=e;return(0,t.createElement)(s,r)}),...Array.isArray(m)?m:[m]])});return r.displayName="".concat(e),r}},5865:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>g});var t=r(5155),a=r(2115),i=r(3586),l=r(919),n=r(5105);let c=(0,n.A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function o(e){let{singerId:s,selectedSongId:r,onSongSelect:n}=e,{songs:o,loading:d,error:m}=function(e){let[s,r]=(0,a.useState)([]),[t,i]=(0,a.useState)(!1),[l,n]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(!e){r([]),n(null);return}(async()=>{i(!0),n(null);try{let s=await fetch("".concat("https://ai-singer-studio-production.ivanleejackson.workers.dev","/api/assets/audio/").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("session_token")||"test-token-music-video-123")}});if(!s.ok)throw Error("Failed to fetch songs: ".concat(s.statusText));let t=((await s.json()).songs||[]).map(e=>({id:e.id,name:e.name||"Song ".concat(e.id.slice(-8)),duration:e.duration||0,createdAt:e.createdAt,storageKey:e.storageKey,audioUrl:e.publicUrl||e.audioUrl}));r(t)}catch(e){console.error("Error fetching songs:",e),n(e instanceof Error?e.message:"Failed to fetch songs"),r([])}finally{i(!1)}})()},[e]),{songs:s,loading:t,error:l}}(s);return s?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.A,{className:"w-5 h-5 text-blue-600"}),(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Select Song (Optional)"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Choose a song to create a music video, or leave unselected for a regular video"}),d&&(0,t.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,t.jsx)(l.A,{className:"w-6 h-6 animate-spin text-blue-600"}),(0,t.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading songs..."})]}),m&&(0,t.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-red-600",children:["Error loading songs: ",m]})}),!d&&!m&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>n(null),className:"w-full p-4 border-2 rounded-lg text-left transition-all ".concat(null===r?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"No song (regular video)"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Generate a video without music"})]}),null===r&&(0,t.jsx)(c,{className:"w-5 h-5 text-blue-600"})]})}),0===o.length?(0,t.jsxs)("div",{className:"p-8 text-center border-2 border-dashed border-gray-200 rounded-lg",children:[(0,t.jsx)(i.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,t.jsx)("p",{className:"text-gray-600 font-medium",children:"No songs found"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Generate songs for this singer first to create music videos"})]}):o.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>n(e.id),className:"w-full p-4 border-2 rounded-lg text-left transition-all ".concat(r===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(i.A,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.name})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[(0,t.jsx)("span",{children:(e=>{let s=Math.floor(e/60),r=Math.floor(e%60);return"".concat(s,":").concat(r.toString().padStart(2,"0"))})(e.duration)}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),r===e.id&&(0,t.jsx)(c,{className:"w-5 h-5 text-blue-600 ml-2 flex-shrink-0"})]})},e.id))]})]}):null}let d=(0,n.A)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);var m=r(1078),u=r(7816),h=r(1640);let x=[{id:"singer_1760559095501_emyt1i",name:"Jill",voiceId:"voice_123"},{id:"singer_test_2",name:"Emma",voiceId:"voice_456"},{id:"singer_test_3",name:"Alex",voiceId:"voice_789"}];function g(){let[e,s]=(0,a.useState)(null),[r,n]=(0,a.useState)(null),[c,g]=(0,a.useState)("veo3"),[j,p]=(0,a.useState)(""),[v,f]=(0,a.useState)(5),[y,b]=(0,a.useState)("16:9"),[N,w]=(0,a.useState)(!1),[k,A]=(0,a.useState)(null),[S,E]=(0,a.useState)(null),C=async s=>{if(s.preventDefault(),!e)return void E("Please select a singer");if(!j.trim())return void E("Please enter a prompt");w(!0),E(null),A(null);try{let s=localStorage.getItem("session_token")||"test-token-music-video-123",t=await fetch("".concat("https://ai-singer-studio-production.ivanleejackson.workers.dev","/api/generate/video"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({singerId:e,prompt:j,provider:c,aspectRatio:y,durationSeconds:v,audioAssetId:r})}),a=await t.json();if(!t.ok)throw Error(a.error||"Failed to generate video");A(a.jobId)}catch(e){console.error("Error generating video:",e),E(e instanceof Error?e.message:"Failed to generate video")}finally{w(!1)}};return(0,t.jsx)(h.gc,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-background relative overflow-hidden py-8 px-4",children:[(0,t.jsx)(h.fO,{className:"absolute inset-0 opacity-30"}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto relative z-10",children:[(0,t.jsx)(h._A,{children:(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)(h.DZ,{as:"h1",className:"mb-2",children:(0,t.jsx)(h.yR,{children:"Generate Music Video"})}),(0,t.jsx)(h.EY,{size:"lg",variant:"muted",children:"Create AI-generated videos with optional music integration"})]})}),(0,t.jsx)("form",{onSubmit:C,className:"space-y-6",children:(0,t.jsxs)(h.Cm,{staggerDelay:100,animation:"scale",children:[(0,t.jsxs)(h.Zp,{variant:"glass",children:[(0,t.jsx)(h.aR,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d,{className:"w-5 h-5 text-primary"}),(0,t.jsx)(h.ZB,{children:"AI Provider"})]})}),(0,t.jsx)(h.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)(h.$n,{type:"button",onClick:()=>g("veo3"),variant:"veo3"===c?"primary":"outline",className:"h-auto p-4 flex-col items-start",children:[(0,t.jsx)(h.EY,{weight:"semibold",className:"mb-1",children:"Veo 3"}),(0,t.jsx)(h.EY,{size:"sm",variant:"muted",children:"Google's advanced video model"})]}),(0,t.jsxs)(h.$n,{type:"button",onClick:()=>g("sora2"),variant:"sora2"===c?"primary":"outline",className:"h-auto p-4 flex-col items-start",children:[(0,t.jsx)(h.EY,{weight:"semibold",className:"mb-1",children:"Sora 2"}),(0,t.jsx)(h.EY,{size:"sm",variant:"muted",children:"OpenAI's video generation"})]})]})})]}),(0,t.jsxs)(h.Zp,{variant:"glass",children:[(0,t.jsx)(h.aR,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.A,{className:"w-5 h-5 text-primary"}),(0,t.jsx)(h.ZB,{children:"Select Singer"})]})}),(0,t.jsx)(h.Wu,{children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:x.map(r=>(0,t.jsxs)(h.$n,{type:"button",onClick:()=>{s(r.id),n(null)},variant:e===r.id?"primary":"outline",className:"h-auto p-4 flex-col items-start",children:[(0,t.jsx)(h.EY,{weight:"semibold",className:"mb-1",children:r.name}),(0,t.jsx)(h.EY,{size:"sm",variant:"muted",children:r.id.slice(-8)})]},r.id))})})]}),e&&(0,t.jsx)(h.YE,{children:(0,t.jsx)(h.Zp,{variant:"glass",children:(0,t.jsx)(h.Wu,{className:"p-6",children:(0,t.jsx)(o,{singerId:e,selectedSongId:r,onSongSelect:n})})})}),(0,t.jsxs)(h.Zp,{variant:"glass",children:[(0,t.jsx)(h.aR,{children:(0,t.jsx)(h.ZB,{children:"Video Details"})}),(0,t.jsx)(h.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(h.JU,{required:!0,children:"Prompt"}),(0,t.jsx)(h.TM,{value:j,onChange:e=>p(e.target.value),placeholder:"A beautiful singer performing on stage...",rows:3,required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(h.JU,{children:"Duration (seconds)"}),(0,t.jsxs)("select",{value:v,onChange:e=>f(Number(e.target.value)),className:"w-full px-3 py-2 border border-border bg-background text-foreground rounded-md focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-fast",children:[(0,t.jsx)("option",{value:5,children:"5 seconds"}),(0,t.jsx)("option",{value:10,children:"10 seconds"}),(0,t.jsx)("option",{value:15,children:"15 seconds"}),(0,t.jsx)("option",{value:30,children:"30 seconds"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(h.JU,{children:"Aspect Ratio"}),(0,t.jsxs)("select",{value:y,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-border bg-background text-foreground rounded-md focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-fast",children:[(0,t.jsx)("option",{value:"16:9",children:"16:9 (Landscape)"}),(0,t.jsx)("option",{value:"9:16",children:"9:16 (Portrait)"}),(0,t.jsx)("option",{value:"1:1",children:"1:1 (Square)"})]})]})]})]})})]}),S&&(0,t.jsx)(h.YE,{children:(0,t.jsx)(h.Zp,{variant:"default",className:"border-error-200 bg-error-50",children:(0,t.jsxs)(h.Wu,{className:"p-4 flex items-start gap-3",children:[(0,t.jsx)(m.A,{className:"w-5 h-5 text-error-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(h.EY,{weight:"semibold",className:"text-error-900",children:"Error"}),(0,t.jsx)(h.EY,{size:"sm",className:"text-error-700",children:S})]})]})})}),k&&(0,t.jsx)(h.YE,{children:(0,t.jsx)(h.Zp,{variant:"default",className:"border-success-200 bg-success-50",children:(0,t.jsxs)(h.Wu,{className:"p-4 flex items-start gap-3",children:[(0,t.jsx)(u.A,{className:"w-5 h-5 text-success-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(h.EY,{weight:"semibold",className:"text-success-900",children:"Video Generation Started!"}),(0,t.jsxs)(h.EY,{size:"sm",className:"text-success-700",children:["Job ID: ",k]}),(0,t.jsx)(h.EY,{size:"sm",className:"text-success-600 mt-1",children:"Check the job status in your dashboard or via the API"})]})]})})}),(0,t.jsx)(h.$n,{type:"submit",disabled:N||!e||!j.trim(),loading:N,variant:"primary",size:"xl",fullWidth:!0,children:N?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.A,{className:"w-5 h-5 animate-spin"}),"Generating..."]}):(0,t.jsx)(t.Fragment,{children:r?"\uD83C\uDFB5 Generate Music Video":"Generate Video"})})]})})]})]})})}},6535:(e,s,r)=>{Promise.resolve().then(r.bind(r,5865))},7816:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(5105).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])}},e=>{e.O(0,[640,441,255,358],()=>e(e.s=6535)),_N_E=e.O()}]);