(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[826],{2327:(e,t,s)=>{"use strict";s.d(t,{Me:()=>c,R2:()=>d,eM:()=>u,ic:()=>x,lu:()=>m,qT:()=>l,u5:()=>a,vS:()=>h});let r="https://ai-singer-studio-production.ivanleejackson.workers.dev";class a extends Error{constructor(e,t,s){super(e),this.status=t,this.data=s,this.name="APIClientError"}}function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if("string"==typeof e)return e;if(!e)return"Request failed";if("object"==typeof e&&t.has(e))return"Request failed (circular reference)";if("object"==typeof e&&t.add(e),"string"==typeof e.message)return e.message;if("string"==typeof e.error)return e.error;if("string"==typeof e.error_description)return e.error_description;if("string"==typeof e.detail)return e.detail;if(Array.isArray(e.errors)){let t=e.errors.map(e=>e.message||e.error||"Unknown error").filter(e=>"string"==typeof e);if(t.length>0)return t.join(", ")}if(Array.isArray(e.issues))return e.issues.map(e=>e.message?e.message:Array.isArray(e.path)&&e.path.length?"".concat(e.path.join("."),": ").concat(e.message||"Invalid value"):"Validation error").join(", ");if(Array.isArray(e)){let s=e.map(e=>"string"==typeof e?e:n(e,t)).filter(e=>e&&"Request failed"!==e);if(s.length>0)return s.join(", ")}if("object"==typeof e.error&&null!==e.error)return n(e.error,t);if("object"==typeof e.message&&null!==e.message)return n(e.message,t);if(e.details)return"string"==typeof e.details?e.details:JSON.stringify(e.details);try{let t=JSON.stringify(e);return t.length>200?t.substring(0,200)+"...":t}catch(e){return"Request failed"}}function i(){let e=localStorage.getItem("token")||localStorage.getItem("authToken")||sessionStorage.getItem("token");return console.log("[API Client] Token found:",!!e),e}async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=i(),o={"Content-Type":"application/json",...t.headers};s&&(o.Authorization="Bearer ".concat(s));let l="".concat(r).concat(e);console.log("[API Client] Request:",t.method||"GET",l);try{let e,s=await fetch(l,{...t,headers:o,credentials:"include"}),r=s.headers.get("content-type"),i=await s.text();if(i)if((null==r?void 0:r.includes("application/json"))||i.trim().startsWith("{")||i.trim().startsWith("["))try{e=JSON.parse(i)}catch(t){e={message:i}}else e={message:i};else e=null;if(!s.ok)throw console.error("[API Client] Error response:",{status:s.status,contentType:r,data:e}),new a(e?n(e):"Request failed with status ".concat(s.status),s.status,e);return console.log("[API Client] Success:",e),e}catch(e){if(e instanceof a)throw e;throw console.error("[API Client] Network error:",e),new a(e instanceof Error?e.message:"Network error occurred")}}let l={async listVoices(e){let t=e?"?category=".concat(encodeURIComponent(e)):"";return o("/api/voices/elevenlabs".concat(t))},getVoice:async e=>o("/api/voices/elevenlabs/".concat(e)),generateVoice:async e=>(console.log("[API Client] Generating voice with params:",e),o("/api/voices/elevenlabs/generate",{method:"POST",body:JSON.stringify(e)})),async cloneVoice(e){let t=i(),s={};t&&(s.Authorization="Bearer ".concat(t)),console.log("[API Client] Cloning voice");let o=await fetch("".concat(r,"/api/voices/elevenlabs/clone"),{method:"POST",headers:s,body:e,credentials:"include"}),l=await o.json();if(!o.ok)throw new a(n(l)||"Voice cloning failed",o.status,l);return l}},c={list:async()=>o("/api/singers"),get:async e=>o("/api/singers/".concat(e)),create:async e=>o("/api/singers",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>o("/api/singers/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:async e=>o("/api/singers/".concat(e),{method:"DELETE"})},d={me:async()=>o("/api/auth/me"),logout:async()=>o("/api/auth/logout",{method:"POST"})},m={getUsage:async()=>o("/api/users/usage"),getQuota:async()=>o("/api/users/me/quota")},u={async list(e){let t=new URLSearchParams;(null==e?void 0:e.type)&&t.set("type",e.type),(null==e?void 0:e.singerId)&&t.set("singerId",e.singerId),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString());let s=t.toString();return o("/api/assets".concat(s?"?".concat(s):""))},get:async e=>o("/api/assets/".concat(e)),delete:async e=>o("/api/assets/".concat(e),{method:"DELETE"}),getStats:async()=>o("/api/assets/stats")},h={async list(e){let t=new URLSearchParams;(null==e?void 0:e.status)&&t.set("status",e.status),(null==e?void 0:e.type)&&t.set("type",e.type),(null==e?void 0:e.singerId)&&t.set("singerId",e.singerId),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString());let s=t.toString();return o("/api/jobs".concat(s?"?".concat(s):""))},get:async e=>o("/api/jobs/".concat(e)),delete:async e=>o("/api/jobs/".concat(e),{method:"DELETE"}),retry:async e=>o("/api/jobs/".concat(e,"/retry"),{method:"POST"}),getStats:async()=>o("/api/jobs/stats")},x={createSong:async e=>o("/api/music/songs",{method:"POST",body:JSON.stringify(e)}),async listSongs(e){let t=new URLSearchParams;(null==e?void 0:e.singerId)&&t.set("singerId",e.singerId),(null==e?void 0:e.status)&&t.set("status",e.status),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString());let s=t.toString();return o("/api/music/songs".concat(s?"?".concat(s):""))},getSong:async e=>o("/api/music/songs/".concat(e)),updateLyrics:async(e,t)=>o("/api/music/songs/".concat(e,"/lyrics"),{method:"POST",body:JSON.stringify(t)}),updateStructure:async(e,t)=>o("/api/music/songs/".concat(e,"/structure"),{method:"POST",body:JSON.stringify(t)}),generateVersion:async(e,t)=>o("/api/music/songs/".concat(e,"/generate"),{method:"POST",body:JSON.stringify(t)}),activateVersion:async(e,t)=>o("/api/music/songs/".concat(e,"/versions/").concat(t,"/activate"),{method:"POST"}),deleteSong:async e=>o("/api/music/songs/".concat(e),{method:"DELETE"})}},5781:(e,t,s)=>{Promise.resolve().then(s.bind(s,8466))},8466:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(5155),a=s(2115),n=s(2327),i=s(1640);function o(){let[e,t]=(0,a.useState)([]),[s,o]=(0,a.useState)({total:0,pending:0,processing:0,completed:0,failed:0,byType:{image:0,song:0,video:0}}),[l,c]=(0,a.useState)(!0),[d,m]=(0,a.useState)(""),[u,h]=(0,a.useState)("all"),[x,g]=(0,a.useState)("all"),[f,p]=(0,a.useState)(!0);async function j(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e||(c(!0),m(""));let s={limit:100};"all"!==u&&(s.status=u),"all"!==x&&(s.type=x);let[r,a]=await Promise.all([n.vS.list(s),n.vS.getStats()]);t(r.jobs),o(a.stats),e||c(!1)}catch(t){console.error("[Jobs] Load error:",t),m(t instanceof Error?t.message:"Failed to load jobs"),e||c(!1)}}async function v(e){try{await n.vS.retry(e),await j()}catch(e){console.error("[Jobs] Retry error:",e),alert("Failed to retry job")}}async function b(e){if(confirm("Are you sure you want to delete this job?"))try{await n.vS.delete(e),await j()}catch(e){console.error("[Jobs] Delete error:",e),alert("Failed to delete job")}}return((0,a.useEffect)(()=>{j()},[u,x]),(0,a.useEffect)(()=>{if(!f||!e.some(e=>"pending"===e.status||"processing"===e.status))return;let t=setInterval(()=>{j(!0)},5e3);return()=>clearInterval(t)},[e,f]),l)?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)(i.tK,{size:"lg",className:"text-primary"})}):(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(i._A,{children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(i.DZ,{as:"h1",children:"Job Center"}),(0,r.jsx)(i.EY,{variant:"muted",className:"mt-2",children:"Track your content generation jobs in real-time"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>p(!f),className:"px-4 py-2 rounded-xl font-semibold transition-all duration-300 ".concat(f?"text-green-700 bg-green-100 border border-green-200":"text-slate-700 bg-slate-100 border border-slate-200"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[f?(0,r.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}):(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f?"Auto-Refresh On":"Auto-Refresh Off"]})}),(0,r.jsx)(i.$n,{onClick:()=>j(),variant:"outline",size:"md",children:"Refresh"})]})]})}),d&&(0,r.jsx)(i.YE,{children:(0,r.jsx)(i.Zp,{variant:"default",className:"border-error-200 bg-error-50",children:(0,r.jsx)(i.Wu,{className:"p-4",children:(0,r.jsx)(i.EY,{className:"text-error-700",children:d})})})}),(0,r.jsx)(i.Cm,{children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,r.jsx)(i.Zp,{variant:"glass",className:"group hover:scale-105 transition-transform duration-300",children:(0,r.jsxs)(i.Wu,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)(i.EY,{variant:"muted",className:"text-sm",children:"Total"}),(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]}),(0,r.jsx)(i.EY,{className:"text-3xl font-bold text-slate-900",children:s.total})]})}),(0,r.jsx)(i.Zp,{variant:"glass",className:"group hover:scale-105 transition-transform duration-300",children:(0,r.jsxs)(i.Wu,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)(i.EY,{variant:"muted",className:"text-sm",children:"Pending"}),(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,r.jsx)(i.EY,{className:"text-3xl font-bold text-slate-900",children:s.pending})]})}),(0,r.jsx)(i.Zp,{variant:"glass",className:"group hover:scale-105 transition-transform duration-300",children:(0,r.jsxs)(i.Wu,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)(i.EY,{variant:"muted",className:"text-sm",children:"Processing"}),(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center",children:(0,r.jsx)(i.tK,{size:"sm",className:"text-blue-600"})})]}),(0,r.jsx)(i.EY,{className:"text-3xl font-bold text-blue-900",children:s.processing})]})}),(0,r.jsx)(i.Zp,{variant:"glass",className:"group hover:scale-105 transition-transform duration-300",children:(0,r.jsxs)(i.Wu,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)(i.EY,{variant:"muted",className:"text-sm",children:"Completed"}),(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,r.jsx)(i.EY,{className:"text-3xl font-bold text-green-900",children:s.completed})]})}),(0,r.jsx)(i.Zp,{variant:"glass",className:"group hover:scale-105 transition-transform duration-300",children:(0,r.jsxs)(i.Wu,{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)(i.EY,{variant:"muted",className:"text-sm",children:"Failed"}),(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,r.jsx)(i.EY,{className:"text-3xl font-bold text-red-900",children:s.failed})]})})]})}),(0,r.jsx)(i.FQ,{direction:"bottom",children:(0,r.jsx)(i.Zp,{variant:"glass",children:(0,r.jsx)(i.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(i.EY,{className:"font-semibold mb-3 text-slate-700",children:"Filter by Status"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:["all","pending","processing","completed","failed"].map(e=>(0,r.jsx)("button",{onClick:()=>h(e),className:"px-4 py-2 rounded-xl font-semibold capitalize transition-all duration-300 ".concat(u===e?"text-white bg-gradient-to-r from-violet-600 to-fuchsia-600 shadow-lg":"text-slate-700 bg-white hover:bg-slate-50 border border-slate-200"),children:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(i.EY,{className:"font-semibold mb-3 text-slate-700",children:"Filter by Type"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:["all","image","song","video"].map(e=>(0,r.jsx)("button",{onClick:()=>g(e),className:"px-4 py-2 rounded-xl font-semibold capitalize transition-all duration-300 ".concat(x===e?"text-white bg-gradient-to-r from-violet-600 to-fuchsia-600 shadow-lg":"text-slate-700 bg-white hover:bg-slate-50 border border-slate-200"),children:e},e))})]})]})})})}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-1 h-8 bg-gradient-to-b from-violet-600 to-fuchsia-600 rounded-full"}),"Jobs"]}),(0,r.jsxs)(i.EY,{variant:"muted",children:[e.length," total"]})]}),0===e.length?(0,r.jsxs)("div",{className:"rounded-2xl bg-white/70 backdrop-blur-xl p-12 border border-slate-200/50 shadow-lg text-center",children:[(0,r.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-violet-100 to-fuchsia-100 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-10 h-10 text-violet-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No jobs found"}),(0,r.jsx)("p",{className:"text-slate-600 mb-6",children:"Start generating content to see jobs here"})]}):(0,r.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,r.jsx)(i.FQ,{direction:"bottom",children:(0,r.jsx)(i.Zp,{variant:"glass",className:"group hover:shadow-2xl transition-all duration-500",children:(0,r.jsx)(i.Wu,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-6",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-violet-600 to-fuchsia-600 flex items-center justify-center text-white shadow-lg",children:function(e){switch(e){case"image":return(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"song":return(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})});case"video":return(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})});default:return(0,r.jsx)(r.Fragment,{})}}(e.type)}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold text-slate-900 capitalize",children:[e.type," Generation"]}),(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold capitalize border ".concat(function(e){switch(e){case"pending":default:return"text-slate-600 bg-slate-100 border-slate-200";case"processing":return"text-blue-600 bg-blue-100 border-blue-200";case"completed":return"text-green-600 bg-green-100 border-green-200";case"failed":return"text-red-600 bg-red-100 border-red-200"}}(e.status)),children:e.status})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-600",children:[(0,r.jsxs)("span",{children:["Provider: ",e.provider]}),e.singerName&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:["Singer: ",e.singerName]})]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:function(e){let t=new Date(e),s=new Date().getTime()-t.getTime(),r=Math.floor(s/6e4),a=Math.floor(s/36e5),n=Math.floor(s/864e5);return r<1?"Just now":r<60?"".concat(r,"m ago"):a<24?"".concat(a,"h ago"):n<7?"".concat(n,"d ago"):t.toLocaleDateString()}(e.createdAt)})]})]})]}),"processing"===e.status&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsxs)(i.EY,{variant:"muted",className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"}),"Processing..."]}),(0,r.jsxs)(i.EY,{className:"font-bold text-blue-600 text-base",children:[e.progress,"%"]})]}),(0,r.jsxs)("div",{className:"relative h-3 bg-slate-200/50 rounded-full overflow-hidden backdrop-blur-sm",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-violet-400 blur-md opacity-40",style:{width:"".concat(e.progress,"%")}}),(0,r.jsx)("div",{className:"relative h-full bg-gradient-to-r from-blue-500 via-violet-500 to-fuchsia-500 transition-all duration-500 rounded-full overflow-hidden",style:{width:"".concat(e.progress,"%")},children:(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer",style:{animationDuration:"2s"}})}),(0,r.jsx)("div",{className:"absolute top-0 bottom-0 w-1 bg-white/80 blur-sm transition-all duration-500",style:{left:"".concat(e.progress,"%")}})]})]}),"failed"===e.status&&e.error&&(0,r.jsx)("div",{className:"p-3 rounded-xl bg-red-50 border border-red-200",children:(0,r.jsxs)(i.EY,{className:"text-sm text-red-700 font-medium",children:["Error: ",e.error]})}),"completed"===e.status&&e.assetUrl&&(0,r.jsxs)("a",{href:"/dashboard/gallery?asset=".concat(e.resultAssetId),className:"inline-flex items-center gap-2 text-sm text-green-700 font-semibold hover:text-green-800 transition-colors",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"View in Gallery"]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:["failed"===e.status&&(0,r.jsx)(i.$n,{onClick:()=>v(e.id),variant:"primary",size:"sm",children:"Retry"}),(0,r.jsx)(i.$n,{onClick:()=>b(e.id),variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50 hover:text-red-700",children:"Delete"})]})]})})})},e.id))})]})]})}}},e=>{e.O(0,[640,441,255,358],()=>e(e.s=5781)),_N_E=e.O()}]);