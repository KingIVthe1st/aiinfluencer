(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[954],{63:(e,t,s)=>{"use strict";var o=s(7260);s.o(o,"useParams")&&s.d(t,{useParams:function(){return o.useParams}}),s.o(o,"usePathname")&&s.d(t,{usePathname:function(){return o.usePathname}}),s.o(o,"useRouter")&&s.d(t,{useRouter:function(){return o.useRouter}}),s.o(o,"useSearchParams")&&s.d(t,{useSearchParams:function(){return o.useSearchParams}})},2327:(e,t,s)=>{"use strict";s.d(t,{Me:()=>c,R2:()=>d,eM:()=>h,ic:()=>v,lu:()=>u,qT:()=>l,u5:()=>i,vS:()=>m});let o="https://ai-singer-studio-production.ivanleejackson.workers.dev";class i extends Error{constructor(e,t,s){super(e),this.status=t,this.data=s,this.name="APIClientError"}}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if("string"==typeof e)return e;if(!e)return"Request failed";if("object"==typeof e&&t.has(e))return"Request failed (circular reference)";if("object"==typeof e&&t.add(e),"string"==typeof e.message)return e.message;if("string"==typeof e.error)return e.error;if("string"==typeof e.error_description)return e.error_description;if("string"==typeof e.detail)return e.detail;if(Array.isArray(e.errors)){let t=e.errors.map(e=>e.message||e.error||"Unknown error").filter(e=>"string"==typeof e);if(t.length>0)return t.join(", ")}if(Array.isArray(e.issues))return e.issues.map(e=>e.message?e.message:Array.isArray(e.path)&&e.path.length?"".concat(e.path.join("."),": ").concat(e.message||"Invalid value"):"Validation error").join(", ");if(Array.isArray(e)){let s=e.map(e=>"string"==typeof e?e:r(e,t)).filter(e=>e&&"Request failed"!==e);if(s.length>0)return s.join(", ")}if("object"==typeof e.error&&null!==e.error)return r(e.error,t);if("object"==typeof e.message&&null!==e.message)return r(e.message,t);if(e.details)return"string"==typeof e.details?e.details:JSON.stringify(e.details);try{let t=JSON.stringify(e);return t.length>200?t.substring(0,200)+"...":t}catch(e){return"Request failed"}}function a(){let e=localStorage.getItem("token")||localStorage.getItem("authToken")||sessionStorage.getItem("token");return console.log("[API Client] Token found:",!!e),e}async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a(),n={"Content-Type":"application/json",...t.headers};s&&(n.Authorization="Bearer ".concat(s));let l="".concat(o).concat(e);console.log("[API Client] Request:",t.method||"GET",l);try{let e,s=await fetch(l,{...t,headers:n,credentials:"include"}),o=s.headers.get("content-type"),a=await s.text();if(a)if((null==o?void 0:o.includes("application/json"))||a.trim().startsWith("{")||a.trim().startsWith("["))try{e=JSON.parse(a)}catch(t){e={message:a}}else e={message:a};else e=null;if(!s.ok)throw console.error("[API Client] Error response:",{status:s.status,contentType:o,data:e}),new i(e?r(e):"Request failed with status ".concat(s.status),s.status,e);return console.log("[API Client] Success:",e),e}catch(e){if(e instanceof i)throw e;throw console.error("[API Client] Network error:",e),new i(e instanceof Error?e.message:"Network error occurred")}}let l={async listVoices(e){let t=e?"?category=".concat(encodeURIComponent(e)):"";return n("/api/voices/elevenlabs".concat(t))},getVoice:async e=>n("/api/voices/elevenlabs/".concat(e)),generateVoice:async e=>(console.log("[API Client] Generating voice with params:",e),n("/api/voices/elevenlabs/generate",{method:"POST",body:JSON.stringify(e)})),async cloneVoice(e){let t=a(),s={};t&&(s.Authorization="Bearer ".concat(t)),console.log("[API Client] Cloning voice");let n=await fetch("".concat(o,"/api/voices/elevenlabs/clone"),{method:"POST",headers:s,body:e,credentials:"include"}),l=await n.json();if(!n.ok)throw new i(r(l)||"Voice cloning failed",n.status,l);return l}},c={list:async()=>n("/api/singers"),get:async e=>n("/api/singers/".concat(e)),create:async e=>n("/api/singers",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>n("/api/singers/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:async e=>n("/api/singers/".concat(e),{method:"DELETE"})},d={me:async()=>n("/api/auth/me"),logout:async()=>n("/api/auth/logout",{method:"POST"})},u={getUsage:async()=>n("/api/users/usage"),getQuota:async()=>n("/api/users/me/quota")},h={async list(e){let t=new URLSearchParams;(null==e?void 0:e.type)&&t.set("type",e.type),(null==e?void 0:e.singerId)&&t.set("singerId",e.singerId),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString());let s=t.toString();return n("/api/assets".concat(s?"?".concat(s):""))},get:async e=>n("/api/assets/".concat(e)),delete:async e=>n("/api/assets/".concat(e),{method:"DELETE"}),getStats:async()=>n("/api/assets/stats")},m={async list(e){let t=new URLSearchParams;(null==e?void 0:e.status)&&t.set("status",e.status),(null==e?void 0:e.type)&&t.set("type",e.type),(null==e?void 0:e.singerId)&&t.set("singerId",e.singerId),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString());let s=t.toString();return n("/api/jobs".concat(s?"?".concat(s):""))},get:async e=>n("/api/jobs/".concat(e)),delete:async e=>n("/api/jobs/".concat(e),{method:"DELETE"}),retry:async e=>n("/api/jobs/".concat(e,"/retry"),{method:"POST"}),getStats:async()=>n("/api/jobs/stats")},v={createSong:async e=>n("/api/music/songs",{method:"POST",body:JSON.stringify(e)}),async listSongs(e){let t=new URLSearchParams;(null==e?void 0:e.singerId)&&t.set("singerId",e.singerId),(null==e?void 0:e.status)&&t.set("status",e.status),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString());let s=t.toString();return n("/api/music/songs".concat(s?"?".concat(s):""))},getSong:async e=>n("/api/music/songs/".concat(e)),updateLyrics:async(e,t)=>n("/api/music/songs/".concat(e,"/lyrics"),{method:"POST",body:JSON.stringify(t)}),updateStructure:async(e,t)=>n("/api/music/songs/".concat(e,"/structure"),{method:"POST",body:JSON.stringify(t)}),generateVersion:async(e,t)=>n("/api/music/songs/".concat(e,"/generate"),{method:"POST",body:JSON.stringify(t)}),activateVersion:async(e,t)=>n("/api/music/songs/".concat(e,"/versions/").concat(t,"/activate"),{method:"POST"}),deleteSong:async e=>n("/api/music/songs/".concat(e),{method:"DELETE"})}},2481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var o=s(5155),i=s(2115),r=s(63),a=s(2327),n=s(2619),l=s.n(n);function c(e){var t,s,n,c;let{children:d,user:u}=e,h=(0,r.usePathname)(),m=(0,r.useRouter)(),[v,f]=(0,i.useState)(!0),[g,p]=(0,i.useState)(!1),x=[{name:"Dashboard",href:"/dashboard",icon:(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{name:"My Singers",href:"/dashboard/singers",icon:(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})},{name:"Generate",icon:(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),children:[{name:"Images",href:"/generate/image",icon:(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{name:"Videos",href:"/generate/video",icon:(0,o.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})},{name:"Audio",href:"/generate/song",icon:(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})}]},{name:"Content Library",href:"/dashboard/gallery",icon:(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})},{name:"Jobs",href:"/dashboard/jobs",icon:(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),badge:"New"},{name:"Settings",href:"/dashboard/settings",icon:(0,o.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}],b=e=>"/dashboard"===e?h===e:h.startsWith(e),j=async()=>{try{await a.R2.logout(),localStorage.removeItem("token"),m.push("/")}catch(e){console.error("Logout failed:",e),m.push("/")}};return(0,o.jsxs)("div",{className:"min-h-screen bg-slate-50 relative overflow-hidden",children:[(0,o.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,o.jsx)("div",{className:"absolute -top-40 -left-40 w-[600px] h-[600px] bg-gradient-to-br from-violet-500/20 via-fuchsia-500/15 to-transparent rounded-full blur-3xl animate-pulse",style:{animationDuration:"8s"}}),(0,o.jsx)("div",{className:"absolute -top-20 -right-20 w-[500px] h-[500px] bg-gradient-to-bl from-pink-500/20 via-violet-400/15 to-transparent rounded-full blur-3xl animate-pulse",style:{animationDuration:"10s",animationDelay:"2s"}}),(0,o.jsx)("div",{className:"absolute bottom-0 left-1/4 w-[400px] h-[400px] bg-gradient-to-t from-violet-500/15 to-transparent rounded-full blur-3xl"}),(0,o.jsx)("div",{className:"absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-gradient-to-t from-fuchsia-500/15 to-transparent rounded-full blur-3xl"}),(0,o.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj48ZmlsdGVyIGlkPSJhIj48ZmVUdXJidWxlbmNlIGJhc2VGcmVxdWVuY3k9Ii43NSIgc3RpdGNoVGlsZXM9InN0aXRjaCIgdHlwZT0iZnJhY3RhbE5vaXNlIi8+PGZlQ29sb3JNYXRyaXggdHlwZT0ic2F0dXJhdGUiIHZhbHVlcz0iMCIvPjwvZmlsdGVyPjxwYXRoIGQ9Ik0wIDBoMzAwdjMwMEgweiIgZmlsdGVyPSJ1cmwoI2EpIiBvcGFjaXR5PSIuMDUiLz48L3N2Zz4=')] opacity-20"})]}),(0,o.jsx)("aside",{className:"fixed top-0 left-0 h-full z-40 transition-all duration-500 ".concat(v?"w-64":"w-20"),children:(0,o.jsxs)("div",{className:"h-full bg-white/70 backdrop-blur-md md:backdrop-blur-xl lg:backdrop-blur-2xl border-r border-slate-200/50 shadow-xl shadow-violet-500/5 flex flex-col",children:[(0,o.jsxs)("div",{className:"p-6 border-b border-slate-200/50",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3 group",children:[(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-600 to-fuchsia-600 rounded-2xl blur-lg opacity-60 group-hover:opacity-100 transition-opacity duration-500"}),(0,o.jsx)("div",{className:"relative w-11 h-11 bg-gradient-to-br from-violet-600 via-fuchsia-600 to-violet-600 rounded-2xl flex items-center justify-center shadow-xl shadow-violet-500/40 group-hover:shadow-violet-500/60 transition-all duration-500 group-hover:scale-105",children:(0,o.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})})]}),v&&(0,o.jsx)("span",{className:"text-2xl font-bold bg-gradient-to-r from-violet-700 via-fuchsia-600 to-violet-700 bg-clip-text text-transparent tracking-tight",children:"dai+bed"})]}),(0,o.jsx)("button",{onClick:()=>f(!v),className:"absolute top-6 -right-3 w-6 h-6 bg-white border border-slate-200 rounded-full shadow-lg flex items-center justify-center hover:shadow-xl transition-all duration-300 group focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-violet-600",children:(0,o.jsx)("svg",{className:"w-3 h-3 text-slate-600 transition-transform duration-300 ".concat(v?"":"rotate-180"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),(0,o.jsx)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:x.map(e=>{if(e.children)return(0,o.jsxs)("div",{children:[(0,o.jsxs)("button",{onClick:()=>p(!g),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-300 group focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-violet-600 ".concat(g?"bg-gradient-to-r from-violet-50 to-fuchsia-50 text-violet-700":"text-slate-700 hover:bg-white/60 hover:text-violet-600"),children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"transition-colors duration-300 ".concat(g?"text-violet-600":"text-slate-500 group-hover:text-violet-600"),children:e.icon}),v&&(0,o.jsx)("span",{children:e.name})]}),v&&(0,o.jsx)("svg",{className:"w-4 h-4 transition-transform duration-300 ".concat(g?"rotate-90":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),g&&v&&(0,o.jsx)("div",{className:"mt-1 ml-4 space-y-1 border-l-2 border-violet-200 pl-4",children:e.children.map(e=>{let t=b(e.href);return(0,o.jsxs)(l(),{href:e.href,className:"flex items-center gap-3 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-violet-600 ".concat(t?"bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white shadow-lg shadow-violet-500/40":"text-slate-600 hover:bg-white/60 hover:text-violet-600"),children:[e.icon,(0,o.jsx)("span",{children:e.name})]},e.name)})})]},e.name);let t=b(e.href);return(0,o.jsxs)(l(),{href:e.href,className:"flex items-center justify-between px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-300 group relative overflow-hidden focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-violet-600 ".concat(t?"bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white shadow-lg shadow-violet-500/40":"text-slate-700 hover:bg-white/60 hover:text-violet-600"),children:[t&&(0,o.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600 to-fuchsia-600 opacity-100"}),(0,o.jsxs)("div",{className:"relative flex items-center gap-3",children:[(0,o.jsx)("div",{className:"transition-colors duration-300 ".concat(t?"text-white":"text-slate-500 group-hover:text-violet-600"),children:e.icon}),v&&(0,o.jsx)("span",{children:e.name})]}),e.badge&&v&&(0,o.jsx)("span",{className:"relative px-2 py-0.5 text-xs font-bold text-violet-600 bg-violet-100 rounded-full",children:e.badge})]},e.name)})}),(0,o.jsx)("div",{className:"p-4 border-t border-slate-200/50",children:(0,o.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-white/60 backdrop-blur-xl border border-slate-200/50 group hover:bg-white/80 transition-all duration-300",children:[(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-violet-600 to-fuchsia-600 flex items-center justify-center text-white font-bold text-sm shadow-lg shadow-violet-500/40",children:(null==u||null==(s=u.email)||null==(t=s[0])?void 0:t.toUpperCase())||"U"}),(0,o.jsx)("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),v&&(0,o.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,o.jsx)("p",{className:"text-sm font-semibold text-slate-900 truncate",children:(null==u?void 0:u.name)||(null==u||null==(n=u.email)?void 0:n.split("@")[0])}),(0,o.jsx)("p",{className:"text-xs text-slate-500 truncate",children:null==u?void 0:u.email})]}),v&&(0,o.jsx)("button",{onClick:j,className:"p-1.5 rounded-lg text-slate-400 hover:text-violet-600 hover:bg-violet-50 transition-all duration-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-violet-600",title:"Sign out",children:(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]})}),(0,o.jsxs)("div",{className:"transition-all duration-500 ".concat(v?"ml-64":"ml-20"),children:[(0,o.jsx)("header",{className:"sticky top-0 z-30 bg-white/60 backdrop-blur-md md:backdrop-blur-xl lg:backdrop-blur-2xl border-b border-slate-200/50 shadow-sm shadow-violet-500/5",children:(0,o.jsxs)("div",{className:"px-8 py-5 flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,o.jsx)("span",{className:"text-slate-500",children:"Dashboard"}),"/dashboard"!==h&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),(0,o.jsx)("span",{className:"font-semibold text-violet-700",children:null==(c=h.split("/").pop())?void 0:c.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase())})]})]}),(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsxs)("button",{className:"p-2.5 rounded-xl text-slate-600 hover:text-violet-600 hover:bg-white/60 transition-all duration-300 relative focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-violet-600",children:[(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),(0,o.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-fuchsia-500 rounded-full animate-pulse"})]}),(0,o.jsxs)(l(),{href:"/generate/video",className:"group relative px-5 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-violet-600 to-fuchsia-600 rounded-xl shadow-lg shadow-violet-500/40 hover:shadow-xl hover:shadow-violet-500/60 transition-all duration-500 hover:scale-105 overflow-hidden focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-violet-600",children:[(0,o.jsx)("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/20 to-transparent"}),(0,o.jsxs)("span",{className:"relative flex items-center gap-2",children:[(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create New"]})]})]})]})}),(0,o.jsx)("main",{className:"p-8",children:d})]})]})}function d(e){let{children:t}=e,s=(0,r.useRouter)(),[n,l]=(0,i.useState)(!0),[d,u]=(0,i.useState)(null);async function h(){try{let e=await a.R2.me();e.authenticated?(u(e.user||e),l(!1)):s.push("/sign-in?redirect=/dashboard/singers")}catch(e){console.error("[Dashboard] Auth check failed:",e),s.push("/sign-in?redirect=/dashboard/singers")}}return((0,i.useEffect)(()=>{h()},[]),n)?(0,o.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsxs)("div",{className:"relative w-16 h-16 mx-auto mb-6",children:[(0,o.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-violet-200 animate-pulse"}),(0,o.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-violet-600 animate-spin"})]}),(0,o.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Verifying authentication..."})]})}):(0,o.jsx)(c,{user:d,children:t})}},5965:(e,t,s)=>{Promise.resolve().then(s.bind(s,2481))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=5965)),_N_E=e.O()}]);