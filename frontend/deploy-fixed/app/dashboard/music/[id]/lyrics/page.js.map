{"version":3,"file":"app/dashboard/music/[id]/lyrics/page.js","mappings":"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,CAAqB,EACrB,eACA,EAAkB,IAClB,gBAAuC,IAAQ,EAAE,MAAQ,EAEzD,CAAa,CACb,EACA,cAAkC,oCAAsC,IACxE,OACA,QACA,SACA,QACA,eACA,SACA,CAAiB,CACjB,yBAA0C,QAAc,+BACxD,sBACA,YACA,aACA,kBACA,aAAkC,CAClC,gBACA,UAA+B,OAAc,KAC7C,SACA,cACA,OACA,YACA,wBACA,0BACA,+CACA,gBACA,mBACA,wBACA,+BACA,wBACA,0BACA,6CACA,IAAgK,GAAM,IAAxG,GAAG,CAA+F,GAAM,GAAc,GAAG,qBAA+B,EACtN,cACA,yBACA,WACA,wBACA,0BACA,2BACA,2BACA,2BACA,+BACA,uBACA,6BACA,qCACA,mCACA,8DACA,+CACA,oBAjO+B,EAkO/B,GAlOuE,cAkOjC,QAAc,uBACpD,4CACA,qBACA,4CACA,OACA,cACA,2BACA,sBACA,gBACA,yBACA,EAAsB,EAAI,CAC1B,cACA,qBACA,yBACA,sCACA,kDACA,wDACA,wDACA,gDACA,sCACA,gDACA,4DACqB,CACrB,sBACA,YACA,eACA,CAAqB,CACrB,uBAA4C,CAC5C,kEACA,IAAyB,QAAc,kBACvC,WACA,CACA,EACA,eACA,UAAoB,GAAW,EAC/B,cAAoB,cAA0B,CAC9C,aAAmC,EAUnC,GATA,GACA,GAAwB,IAAsB,KAI9C,8BAIA,sDACA,0BACA,gFAA8G,EAAiB,EAAE,4CAAoF,cAA8B,KAAO;AAAA,kGAC1P,aACA,cACA,eACA,CAAiB,EACjB,2BACA,aACA,+CACA,CACA,OACA,CACA,OACA,OACA,KAA0B,IAAe,UACzC,OACA,UACA,qBACA,sBACA,oBACA,0BACiB,CACjB,cACA,CACA,EACA,qBAA2C,+CAAuD,IAClG,IAaA,EAbA,eACA,qBAGA,kBAOA,MANA,+BACA,yBAEA,iBACA,uCAEA,KAuBA,GApBA,IACA,GAA+B,QAAkB,eAKjD,IAAiC,IAAY,YAAc,QAAK,MAChE,WACA,GAAmC,IAAY,yBAG/C,iCACA,QAKA,SAA0D,IAAY,gBACtE,GAA+B,IAAY,yBAE3C,QAAiD,IAAY,sDAS7D,EANA,GAEA,SACA,IAAiC,IAAY,WAC7C,UAA8B,GAAe,CAG7C,YACA,0EAwBA,GArBA,0BACA,WACA,MACA,cACA,UAAmC,GAAS,UAC5C,cACA,oBACA,qBACA,8BACA,OAGA,iBACA,oBAGA,MAAuE,OAAsB,SAC7F,CAA6B,EAC7B,sBACqB,EAErB,qBAEA,KAIA,OADA,sBACA,CAEA,CACA,CAGA,2BAGA,kBACA,OACA,cACA,aACA,aACA,CAAqB,CACrB,OACA,KAA8B,IAAe,OAC7C,KAA8B,GAAY,OAC1C,WAAoC,CACpC,eACA,aACA,CACA,EAKA,cAA+E,QAAc,+BAAwD,OAAsB,UAE3K,UACA,OACA,YACA,qBACA,CAAa,CACb,EACA,gBACA,IAsCA,EAsDA,EAsBA,MArDA,EA5DA,0BACA,YACA,wBACA,OACA,IACA,CAAqB,EACrB,UAA2B,GAAS,UACpC,wBACA,qBACA,MACA,cACA,oBACA,sBACa,EAQb,GAPA,GACA,uFAGA,SACA,yDAEA,IACA,MAMA,4GACA,YACA,cACA,eACA,CAAqB,EAErB,WACA,CACA,uCAAuG,IAAe,UAEtH,6FAAiH,gCAAmF,wBACpM,aACA,cACA,eACA,CAAiB,EAEjB,yCACA,IAGA,gBACA,GAGA,uFAIA,YAA8B,IAAwB,OAEtD,IAAoB,SAAoB,EAKxC,MACA,GACA,aACA,aACA,OACc,kBACd,GACA,aACA,aACA,OACc,YAEd,KACA,GACA,aACA,aACA,OACkB,MAOA,mBAGlB,+CAEA,+BACA,gFAAgH,2BAAoC,2BACpJ,YACA,cACA,eACA,CAA6B,EAE7B,GACA,qCACA,iEAEA,EAAsB,IACtB,GACA,WAAwC,IAAc,CACtD,aACA,CAEA,MA5BA,8BACA,IACA,aACA,aACA,GA2BA,GADA,iBACA,+CAAiH,IAAe,0BAWhI,YAA8B,IAAwB,MAGtD,mCAAiH,IAAsB,CACvI,+BACA,YAAkC,IAAsB,IAExD,mCACA,WAE2B,OAAgB,EAC3C,MACA,MACA,+BACA,mCACA,OAAgC,GAAY,cAA4B,IAAuB,EAC/F,4BACqB,GAQrB,iBACuB,OAAgB,EACvC,MACA,MACA,+BACA,mCACA,OAA4B,GAAY,OACxC,4BACiB,EACjB,CAGA,MAAiC,QAAc,mBAC/C,MACA,SACA,KAGA,OACA,WACA,WACA,CACA,CAAiB,EACjB,IAAyB,QAAc,aACvC,CAAiB,EAGjB,YAKA,SACA,+HACA,aACA,cACA,eACA,CAAiB,EAEjB,cACA,OACA,cAKA,eAHA,OACA,SAAmC,IAAsB,EAEzD,mBACA,cACA,oBACA,eACA,wBAEsB,oBACtB,iBAGA,mBAGA,CAGA,mCAA2G,IAAsB,EAsBjI,GArBA,8BACA,YAA8B,IAAsB,IAKpD,mBACA,wBAGA,cAAqD,GAAkB,gBACvE,mBAGA,GACA,YAA8B,IAAwB,MAMtD,QAEA,uBACA,eACA,wGACA,aACA,cACA,eACA,CAAyB,EAEzB,MAA2B,OAAgB,EAC3C,MACA,MACA,+BACA,mCACA,cAMA,iBACA,aACA,aACA,EAA0B,eACL,CACrB,CAGA,MAAuB,OAAgB,EACvC,MACA,MACA,+BACA,mCACA,OAA4B,GAAY,sBAAgC,IAAuB,EAC/F,4BACiB,CACjB,CAEA,aAIA,aAUA,MAAuB,OAAgB,EACvC,MACA,MACA,+BACA,mCACA,SACA,4BACiB,EAMjB,MASA,OANA,2BACA,SACA,UAA2C,GAAY,uBACvD,SACA,CACA,CAAiB,GACM,OAAgB,EACvC,MACA,MACA,+BACA,mCACA,SACA,cACA,aACA,aACA,CACA,CAAiB,EAWjB,0BAqCA,OApCA,mBAIA,GACA,OACA,sBAGA,wBACA,CAAa,qBACb,EASA,EARA,MACA,sGACA,aACA,cACA,eACA,CAAqB,EAErB,uCAA+F,IAAe,UAE9G,8EAAsG,gCAAuE,wBAC7K,aACA,cACA,eACA,CAAqB,CAGrB,sCACA,CAAa,YAGb,8BACA,6CACA,CAAiB,CACjB,CAAa,EACM,OAAgB,EACnC,MACA,MACA,+BACA,mCACA,SAIA,cACA,aACA,aACA,CACA,CAAa,CACb,EAGA,OAGA,6DAAoF,IAAc,gBAClG,YAAiC,IAAQ,EAAE,MAAQ,EACnD,KAA0B,IAAQ,QAClC,YACA,iBACA,oBAEA,CAAiB,IATjB,YAWA,CAAM,SAcN,MAZA,iBAA4C,GAAe,EAC3D,4BACA,wBACA,YACA,mBACA,iBAAkC,OAAmB,EACrD,gBACA,uBACA,CAAiB,CACjB,CAAa,KAGb,CACA,CACA,4HC/6BA,QAAuB,GACvB,OAAoB,KAAO,qFAAuF,sBAA0B,sBAA0B,aAAe,kDAAwD,sPAA0R,2RAAuT,kBAAkB,QAAQ,uEAA+E,gBAAkB,uBAAyB,kBAAoB,uCAA6C,MAAQ,iBAAmB,2BAA+B,gHAAkI,uBAAyB,4FAA0G,aAAiB,WAAa,YAAc,sEAA6E,uBAAuB,iCAAmC,QAAQ,EAAE,SAAW,oBAAsB,QAAQ,GAAG,0DAA8D,4BAAmC,SAAW,2CAAiD,UAAY,gCAAsC,UAAY,oCAA0C,QAAU,uCAA6C,OAAS,yCAA+C,QAAU,0CAAiD,MAAQ,+CAAsD,iBAAmB,2kCAAmyC,qBAAyB,ylDAAqoD,+eAA4f,4BAEx/K,8EACA,GAFA,4BAEA,2BACA,QACI,QAA8B,EAClC,yCACA,0BACA,yBACA,gBAAyB,OAAqB,EAC9C,wBACA,CAAS,CACT,CAAK,EAEE,OAAqB,EAC5B,uBACA,eAFmC,2BAGnC,EAA8B,OAAgB,IAC9C,KAA2B,mBAAqB,EAAE,iBAAmB,EACrE,MAAwB,GAAc,IACtC,MAAwB,GAAe,SAEvC,0BACA,UACA,qBACA,CAAK,EACL,MACA,mCACA,UACA,CAAS,EAET,UAAY,gRAAwQ,EACpR,EAAmC,OAAyB,IAC5D,EAAoB,QAAU,kCAC9B,CAAY,wBAAuB,CAAE,OAAyB,cAC9D,MAAgC,IAAe,CAC/C,GACA,OACA,QACA,SACA,eACA,SACA,CAAS,CACT,yBACA,YACA,aACA,kBACA,aAA0B,CAC1B,gBACA,UAAuB,OAAc,KACrC,cACA,SACA,OACA,iBACA,wBACA,0BACA,2BACA,gBACA,mBACA,wBACA,+BACA,qBACA,wBACA,0BACA,2CACA,yBACA,UACA,eACA,gBACA,uBACA,yBACA,0BACA,0BACA,0BACA,8BACA,uBACA,4BACA,oCACA,kCACA,6DACA,8CACA,sBACA,2CACA,oBACA,2CACA,cACA,qBACA,wBACA,qCACA,iDACA,uDACA,uDACA,+CACA,qCACA,+CACA,2DACa,CACb,oDACA,8BACA,YACA,YACA,CAAa,CACb,uBAAoC,CACpC,iEACA,YAEA,EACA,MA8DA,YACA,IACA,yCACA,aACA,iBACA,qBACA,aACA,CAAiB,EACjB,gCAEA,MAGA,6BAAiE,IAAc,2BAC/E,2CAA+D,wBAAyC,wEAIxG,GADA,EACA,CACA,SAAoC,UAAY,EAFhD,EAEwD,EACxD,iBACA,aAJA,EAKA,aALA,EAMA,kBACA,CAAqB,EACrB,eACA,EAAkB,IAClB,gBAAuC,UAAY,EAAE,EAAY,GAEjE,CAAa,EACb,OA3FA,IACA,2BAEA,YAGA,OAFA,MACA,kBACA,mBACA,UACA,CAAa,EAGb,aAAgB,GAAW,EAC3B,cACA,kCACA,8BAEA,iCAA8D,eAO9D,eANA,wBACA,4BACA,GACA,gBAGA,gBACA,kBACA,aACS,GACT,cACA,oBAEA,eACA,2BAGA,mBAKA,iBACA,4BAGA,OAFA,mEACA,kBACA,gBACA,SACA,SACA,CAAa,CACb,CAGA,aAAgB,cAAqB,oBAMrC,OAHA,sBACA,yDACA,CAAS,iCACT,gBACA,SACA,SACA,CAAS,CACT,GA+BA,EACA,CAAU,SAQV,MAPA,iBApL+C,KAoL/C,MACA,wBACA,YACA,mBACA,uBACA,CAAa,EAEb,CACA,CACA,EACA,EAAmB,QAAS,GAC5B,qDAAsE,IAAc,gBACpF,YAAyB,UAAY,EAAE,EAAY,EACnD,KAAkB,IAAQ,QAC1B,YACA,uBACA,gBACA,cACA,CACA,CAAS,IACT,CACe,eACf,MAAW,OAAO,EAClB,KACA,gBAAwB,KACxB,WACA,wBAtOA,IAuOA,CAAK,CACL","sources":["webpack://_N_E/./app/dashboard/music/[id]/lyrics/page.tsx","webpack://_N_E/?907b","webpack://_N_E/external commonjs \"node:buffer\"","webpack://_N_E/external commonjs \"node:async_hooks\"","webpack://_N_E/_N_E/./app/dashboard/music/[id]/lyrics/page.tsx/__nextjs-internal-proxy.mjs","webpack://_N_E/?7411","webpack://_N_E/./app/dashboard/music/[id]/lyrics/page.tsx?1c4e","webpack://_N_E/?f3c9"],"sourcesContent":["'use client';\nexport const runtime = \"edge\";\n\n\n\nimport { useState, useEffect } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { musicAPI, singersAPI } from '@/lib/api-client';\n\ninterface Song {\n  id: string;\n  userId: string;\n  singerId: string;\n  title: string;\n  description: string | null;\n  genre: string | null;\n  mood: string | null;\n  bpm: number;\n  key: string;\n  status: string;\n  activeVersionId: string | null;\n  playCount: number;\n  likeCount: number;\n  createdAt: number;\n  updatedAt: number;\n}\n\ninterface Singer {\n  id: string;\n  name: string;\n}\n\ninterface LyricVersion {\n  id: string;\n  lyricsId: string;\n  versionNumber: number;\n  text: string;\n  language: string;\n  writtenBy: string | null;\n  createdAt: number;\n}\n\ninterface Section {\n  type: 'intro' | 'verse' | 'chorus' | 'bridge' | 'outro' | 'pre-chorus' | 'post-chorus';\n  name: string;\n  text: string;\n  order: number;\n}\n\nconst SECTION_TYPES = [\n  { value: 'intro', label: 'Intro', color: 'violet' },\n  { value: 'verse', label: 'Verse', color: 'blue' },\n  { value: 'pre-chorus', label: 'Pre-Chorus', color: 'cyan' },\n  { value: 'chorus', label: 'Chorus', color: 'fuchsia' },\n  { value: 'post-chorus', label: 'Post-Chorus', color: 'pink' },\n  { value: 'bridge', label: 'Bridge', color: 'amber' },\n  { value: 'outro', label: 'Outro', color: 'slate' },\n];\n\nexport default function EditLyricsPage() {\n  const params = useParams();\n  const router = useRouter();\n  const songId = params.id as string;\n\n  const [song, setSong] = useState<Song | null>(null);\n  const [singer, setSinger] = useState<Singer | null>(null);\n  const [lyricVersions, setLyricVersions] = useState<LyricVersion[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n\n  const [editMode, setEditMode] = useState<'full' | 'sections'>('full');\n  const [lyricsText, setLyricsText] = useState('');\n  const [sections, setSections] = useState<Section[]>([]);\n  const [language, setLanguage] = useState('en');\n  const [writtenBy, setWrittenBy] = useState('');\n\n  useEffect(() => {\n    loadData();\n  }, [songId]);\n\n  async function loadData() {\n    try {\n      setLoading(true);\n      setError('');\n\n      const data = await musicAPI.getSong(songId);\n      setSong(data.song);\n      setLyricVersions(data.lyricVersions || []);\n\n      if (data.song?.singerId) {\n        const singerData = await singersAPI.get(data.song.singerId);\n        setSinger(singerData.singer);\n      }\n\n      // Load latest lyrics if available\n      if (data.lyricVersions && data.lyricVersions.length > 0) {\n        const latest = data.lyricVersions[0];\n        setLyricsText(latest.text);\n        setLanguage(latest.language);\n        setWrittenBy(latest.writtenBy || '');\n      }\n\n      // Load sections if available\n      if (data.sections && data.sections.length > 0) {\n        setSections(\n          data.sections.map((s: any) => ({\n            type: s.type,\n            name: s.name || s.type,\n            text: s.text || '',\n            order: s.order,\n          }))\n        );\n      } else {\n        // Initialize with basic structure\n        setSections([\n          { type: 'verse', name: 'Verse 1', text: '', order: 0 },\n          { type: 'chorus', name: 'Chorus', text: '', order: 1 },\n          { type: 'verse', name: 'Verse 2', text: '', order: 2 },\n          { type: 'chorus', name: 'Chorus', text: '', order: 3 },\n        ]);\n      }\n\n      setLoading(false);\n    } catch (err) {\n      console.error('[EditLyrics] Load error:', err);\n      setError(err instanceof Error ? err.message : 'Failed to load song');\n      setLoading(false);\n    }\n  }\n\n  function addSection() {\n    const newSection: Section = {\n      type: 'verse',\n      name: `Verse ${sections.filter(s => s.type === 'verse').length + 1}`,\n      text: '',\n      order: sections.length,\n    };\n    setSections([...sections, newSection]);\n  }\n\n  function removeSection(index: number) {\n    setSections(sections.filter((_, i) => i !== index));\n  }\n\n  function updateSection(index: number, updates: Partial<Section>) {\n    setSections(sections.map((section, i) =>\n      i === index ? { ...section, ...updates } : section\n    ));\n  }\n\n  function moveSection(index: number, direction: 'up' | 'down') {\n    if (\n      (direction === 'up' && index === 0) ||\n      (direction === 'down' && index === sections.length - 1)\n    ) {\n      return;\n    }\n\n    const newSections = [...sections];\n    const swapIndex = direction === 'up' ? index - 1 : index + 1;\n    [newSections[index], newSections[swapIndex]] = [newSections[swapIndex], newSections[index]];\n\n    // Update order numbers\n    newSections.forEach((section, i) => {\n      section.order = i;\n    });\n\n    setSections(newSections);\n  }\n\n  function getSectionColor(type: string) {\n    const section = SECTION_TYPES.find(s => s.value === type);\n    return section?.color || 'slate';\n  }\n\n  async function handleSave() {\n    try {\n      setSaving(true);\n      setError('');\n      setSuccessMessage('');\n\n      const payload: any = {\n        text: lyricsText,\n        language,\n        writtenBy: writtenBy || undefined,\n      };\n\n      // If using sections mode and sections have text, include them\n      if (editMode === 'sections' && sections.some(s => s.text.trim())) {\n        payload.sections = sections.map(s => ({\n          type: s.type,\n          name: s.name,\n          text: s.text,\n          order: s.order,\n        }));\n      }\n\n      await musicAPI.updateLyrics(songId, payload);\n\n      setSuccessMessage('Lyrics saved successfully!');\n      setTimeout(() => {\n        router.push(`/dashboard/music/${songId}`);\n      }, 1500);\n    } catch (err) {\n      console.error('[EditLyrics] Save error:', err);\n      setError(err instanceof Error ? err.message : 'Failed to save lyrics');\n      setSaving(false);\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"w-12 h-12 border-4 border-violet-200 border-t-violet-600 rounded-full animate-spin\" />\n      </div>\n    );\n  }\n\n  if (error && !song) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center p-6\">\n        <div className=\"max-w-md w-full rounded-2xl bg-white/70 backdrop-blur-xl p-8 border border-slate-200/50 shadow-lg text-center\">\n          <div className=\"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-4\">\n            <svg className=\"w-8 h-8 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n          </div>\n          <h2 className=\"text-xl font-bold text-slate-900 mb-2\">Error</h2>\n          <p className=\"text-slate-600 mb-6\">{error}</p>\n          <Link\n            href=\"/dashboard/music\"\n            className=\"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white font-semibold hover:from-violet-700 hover:to-fuchsia-700 transition-all\"\n          >\n            Back to Music\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen p-6 pb-24\">\n      <div className=\"max-w-6xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <Link\n            href={`/dashboard/music/${songId}`}\n            className=\"flex items-center gap-2 text-slate-600 hover:text-slate-900 transition-colors mb-4\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n            </svg>\n            <span className=\"font-medium\">Back to Song</span>\n          </Link>\n\n          <h1 className=\"text-4xl font-bold text-slate-900 mb-2\">Edit Lyrics</h1>\n          {song && singer && (\n            <p className=\"text-lg text-slate-600\">\n              {song.title} by {singer.name}\n            </p>\n          )}\n        </div>\n\n        {/* Success Message */}\n        {successMessage && (\n          <div className=\"rounded-xl bg-green-50 border border-green-200 p-4 mb-6\">\n            <div className=\"flex items-center gap-2 text-green-600\">\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n              </svg>\n              <span className=\"font-semibold\">{successMessage}</span>\n            </div>\n          </div>\n        )}\n\n        {/* Error Message */}\n        {error && (\n          <div className=\"rounded-xl bg-red-50 border border-red-200 p-4 mb-6\">\n            <div className=\"flex items-center gap-2 text-red-600\">\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <span className=\"font-semibold\">{error}</span>\n            </div>\n          </div>\n        )}\n\n        {/* Edit Mode Toggle */}\n        <div className=\"rounded-2xl bg-white/70 backdrop-blur-xl p-6 border border-slate-200/50 shadow-lg mb-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h2 className=\"text-lg font-bold text-slate-900 mb-1\">Editing Mode</h2>\n              <p className=\"text-sm text-slate-600\">Choose how you want to edit your lyrics</p>\n            </div>\n            <div className=\"flex items-center gap-2 bg-slate-100 rounded-xl p-1\">\n              <button\n                onClick={() => setEditMode('full')}\n                className={`px-4 py-2 rounded-lg font-semibold transition-all ${\n                  editMode === 'full'\n                    ? 'bg-white text-slate-900 shadow-sm'\n                    : 'text-slate-600 hover:text-slate-900'\n                }`}\n              >\n                Full Text\n              </button>\n              <button\n                onClick={() => setEditMode('sections')}\n                className={`px-4 py-2 rounded-lg font-semibold transition-all ${\n                  editMode === 'sections'\n                    ? 'bg-white text-slate-900 shadow-sm'\n                    : 'text-slate-600 hover:text-slate-900'\n                }`}\n              >\n                By Section\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Main Editor */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {editMode === 'full' ? (\n              /* Full Text Editor */\n              <div className=\"rounded-2xl bg-white/70 backdrop-blur-xl p-8 border border-slate-200/50 shadow-lg\">\n                <h2 className=\"text-2xl font-bold text-slate-900 mb-6\">Full Lyrics</h2>\n                <textarea\n                  value={lyricsText}\n                  onChange={(e) => setLyricsText(e.target.value)}\n                  placeholder=\"Write your lyrics here...&#10;&#10;Verse 1:&#10;[Your lyrics]&#10;&#10;Chorus:&#10;[Your lyrics]&#10;&#10;Verse 2:&#10;[Your lyrics]\"\n                  rows={20}\n                  className=\"w-full px-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500 resize-none font-mono leading-relaxed\"\n                />\n                <div className=\"flex items-center justify-between mt-4 text-sm text-slate-500\">\n                  <span>{lyricsText.split('\\n').length} lines</span>\n                  <span>{lyricsText.split(' ').filter(w => w.length > 0).length} words</span>\n                </div>\n              </div>\n            ) : (\n              /* Section Editor */\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <h2 className=\"text-2xl font-bold text-slate-900\">Edit by Section</h2>\n                  <button\n                    onClick={addSection}\n                    className=\"px-4 py-2 rounded-xl bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white font-semibold hover:from-violet-700 hover:to-fuchsia-700 transition-all\"\n                  >\n                    + Add Section\n                  </button>\n                </div>\n\n                {sections.map((section, index) => (\n                  <div\n                    key={index}\n                    className=\"rounded-2xl bg-white/70 backdrop-blur-xl p-6 border border-slate-200/50 shadow-lg\"\n                  >\n                    <div className=\"flex items-start gap-4\">\n                      {/* Order Controls */}\n                      <div className=\"flex flex-col gap-1\">\n                        <button\n                          onClick={() => moveSection(index, 'up')}\n                          disabled={index === 0}\n                          className=\"w-8 h-8 rounded-lg bg-slate-100 text-slate-700 hover:bg-slate-200 disabled:opacity-30 disabled:cursor-not-allowed transition-all\"\n                        >\n                          ↑\n                        </button>\n                        <span className={`w-8 h-8 rounded-lg bg-${getSectionColor(section.type)}-600 text-white font-bold flex items-center justify-center text-sm`}>\n                          {index + 1}\n                        </span>\n                        <button\n                          onClick={() => moveSection(index, 'down')}\n                          disabled={index === sections.length - 1}\n                          className=\"w-8 h-8 rounded-lg bg-slate-100 text-slate-700 hover:bg-slate-200 disabled:opacity-30 disabled:cursor-not-allowed transition-all\"\n                        >\n                          ↓\n                        </button>\n                      </div>\n\n                      {/* Section Content */}\n                      <div className=\"flex-1 space-y-3\">\n                        <div className=\"grid grid-cols-2 gap-3\">\n                          <div>\n                            <label className=\"block text-xs font-semibold text-slate-700 mb-1\">\n                              Type\n                            </label>\n                            <select\n                              value={section.type}\n                              onChange={(e) => updateSection(index, {\n                                type: e.target.value as Section['type']\n                              })}\n                              className=\"w-full px-3 py-2 rounded-lg bg-white border border-slate-200 text-slate-900 text-sm focus:outline-none focus:ring-2 focus:ring-violet-500\"\n                            >\n                              {SECTION_TYPES.map((type) => (\n                                <option key={type.value} value={type.value}>\n                                  {type.label}\n                                </option>\n                              ))}\n                            </select>\n                          </div>\n\n                          <div>\n                            <label className=\"block text-xs font-semibold text-slate-700 mb-1\">\n                              Name\n                            </label>\n                            <input\n                              type=\"text\"\n                              value={section.name}\n                              onChange={(e) => updateSection(index, { name: e.target.value })}\n                              placeholder=\"e.g., Verse 1\"\n                              className=\"w-full px-3 py-2 rounded-lg bg-white border border-slate-200 text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500\"\n                            />\n                          </div>\n                        </div>\n\n                        <div>\n                          <label className=\"block text-xs font-semibold text-slate-700 mb-1\">\n                            Lyrics\n                          </label>\n                          <textarea\n                            value={section.text}\n                            onChange={(e) => updateSection(index, { text: e.target.value })}\n                            placeholder=\"Enter lyrics for this section...\"\n                            rows={6}\n                            className=\"w-full px-3 py-2 rounded-lg bg-white border border-slate-200 text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500 resize-none font-mono\"\n                          />\n                        </div>\n                      </div>\n\n                      {/* Delete Button */}\n                      <button\n                        onClick={() => removeSection(index)}\n                        className=\"w-8 h-8 rounded-lg bg-red-50 border border-red-200 text-red-600 hover:bg-red-100 transition-all\"\n                      >\n                        ×\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"space-y-6\">\n            {/* Metadata */}\n            <div className=\"rounded-2xl bg-white/70 backdrop-blur-xl p-6 border border-slate-200/50 shadow-lg\">\n              <h3 className=\"text-lg font-bold text-slate-900 mb-4\">Metadata</h3>\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-semibold text-slate-700 mb-2\">\n                    Language\n                  </label>\n                  <select\n                    value={language}\n                    onChange={(e) => setLanguage(e.target.value)}\n                    className=\"w-full px-3 py-2 rounded-lg bg-white border border-slate-200 text-slate-900 text-sm focus:outline-none focus:ring-2 focus:ring-violet-500\"\n                  >\n                    <option value=\"en\">English</option>\n                    <option value=\"es\">Spanish</option>\n                    <option value=\"fr\">French</option>\n                    <option value=\"de\">German</option>\n                    <option value=\"it\">Italian</option>\n                    <option value=\"pt\">Portuguese</option>\n                    <option value=\"ja\">Japanese</option>\n                    <option value=\"ko\">Korean</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-slate-700 mb-2\">\n                    Written By\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={writtenBy}\n                    onChange={(e) => setWrittenBy(e.target.value)}\n                    placeholder=\"Your name\"\n                    className=\"w-full px-3 py-2 rounded-lg bg-white border border-slate-200 text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Version History */}\n            {lyricVersions.length > 0 && (\n              <div className=\"rounded-2xl bg-white/70 backdrop-blur-xl p-6 border border-slate-200/50 shadow-lg\">\n                <h3 className=\"text-lg font-bold text-slate-900 mb-4\">Version History</h3>\n                <div className=\"space-y-2\">\n                  {lyricVersions.slice(0, 5).map((version) => (\n                    <div\n                      key={version.id}\n                      className=\"p-3 rounded-lg bg-gradient-to-br from-violet-50 to-fuchsia-50 border border-slate-200/50\"\n                    >\n                      <div className=\"flex items-center justify-between mb-1\">\n                        <span className=\"font-semibold text-slate-900 text-sm\">\n                          Version {version.versionNumber}\n                        </span>\n                        <button\n                          onClick={() => setLyricsText(version.text)}\n                          className=\"text-xs text-violet-600 hover:text-violet-700 font-semibold\"\n                        >\n                          Load\n                        </button>\n                      </div>\n                      <p className=\"text-xs text-slate-600\">\n                        {new Date(version.createdAt).toLocaleString()}\n                      </p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Save Button */}\n            <div className=\"rounded-2xl bg-gradient-to-br from-violet-50 to-fuchsia-50 p-6 border border-slate-200/50 shadow-lg\">\n              <button\n                onClick={handleSave}\n                disabled={saving || !lyricsText.trim()}\n                className=\"w-full px-6 py-3 rounded-xl bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white font-bold hover:from-violet-700 hover:to-fuchsia-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {saving ? (\n                  <span className=\"flex items-center justify-center gap-2\">\n                    <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\n                    Saving...\n                  </span>\n                ) : (\n                  'Save Lyrics'\n                )}\n              </button>\n              <p className=\"text-xs text-slate-600 mt-3 text-center\">\n                This will create a new lyric version\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Help Text */}\n        <div className=\"mt-6 rounded-xl bg-blue-50 border border-blue-200 p-4\">\n          <div className=\"flex items-start gap-3\">\n            <svg className=\"w-5 h-5 text-blue-600 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <div className=\"flex-1\">\n              <p className=\"text-sm text-blue-900\">\n                <strong>Tip:</strong> Use \"Full Text\" mode for free-form writing, or \"By Section\" mode to organize your lyrics into structured parts. Both approaches save version history for easy comparison.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import(/* webpackMode: \"eager\" */ \"/Users/ivanjackson/Desktop/soraveo/video-gen-platform/frontend/app/dashboard/music/[id]/lyrics/page.tsx\");\n","module.exports = require(\"node:buffer\");","module.exports = require(\"node:async_hooks\");","// This file is generated by the Webpack next-flight-loader.\nimport { registerClientReference } from \"react-server-dom-webpack/server\";\nexport const runtime = registerClientReference(\nfunction() { throw new Error(\"Attempted to call runtime() from the server but runtime is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"/Users/ivanjackson/Desktop/soraveo/video-gen-platform/frontend/app/dashboard/music/[id]/lyrics/page.tsx\",\n\"runtime\",\n);export default registerClientReference(\nfunction() { throw new Error(\"Attempted to call the default export of \\\"/Users/ivanjackson/Desktop/soraveo/video-gen-platform/frontend/app/dashboard/music/[id]/lyrics/page.tsx\\\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"/Users/ivanjackson/Desktop/soraveo/video-gen-platform/frontend/app/dashboard/music/[id]/lyrics/page.tsx\",\n\"default\",\n);\n","import(/* webpackMode: \"eager\" */ \"/Users/ivanjackson/Desktop/soraveo/video-gen-platform/frontend/app/dashboard/music/[id]/lyrics/page.tsx\");\n","const module0 = () => import(/* webpackMode: \"eager\" */ \"/Users/ivanjackson/Desktop/soraveo/video-gen-platform/frontend/app/layout.tsx\");\nconst module1 = () => import(/* webpackMode: \"eager\" */ \"next/dist/client/components/builtin/global-error.js\");\nconst module2 = () => import(/* webpackMode: \"eager\" */ \"next/dist/client/components/builtin/not-found.js\");\nconst module3 = () => import(/* webpackMode: \"eager\" */ \"next/dist/client/components/builtin/forbidden.js\");\nconst module4 = () => import(/* webpackMode: \"eager\" */ \"next/dist/client/components/builtin/unauthorized.js\");\nconst module5 = () => import(/* webpackMode: \"eager\" */ \"/Users/ivanjackson/Desktop/soraveo/video-gen-platform/frontend/app/dashboard/layout.tsx\");\nconst page6 = () => import(/* webpackMode: \"eager\" */ \"/Users/ivanjackson/Desktop/soraveo/video-gen-platform/frontend/app/dashboard/music/[id]/lyrics/page.tsx\");\nimport { AppPageRouteModule } from \"next/dist/server/route-modules/app-page/module.compiled\" with {\n    'turbopack-transition': 'next-ssr'\n};\nimport { RouteKind } from \"next/dist/server/route-kind\" with {\n    'turbopack-transition': 'next-server-utility'\n};\nimport { getRevalidateReason } from \"next/dist/server/instrumentation/utils\";\nimport { getTracer, SpanKind } from \"next/dist/server/lib/trace/tracer\";\nimport { getRequestMeta } from \"next/dist/server/request-meta\";\nimport { BaseServerSpan } from \"next/dist/server/lib/trace/constants\";\nimport { interopDefault } from \"next/dist/server/app-render/interop-default\";\nimport { stripFlightHeaders } from \"next/dist/server/app-render/strip-flight-headers\";\nimport { NodeNextRequest, NodeNextResponse } from \"next/dist/server/base-http/node\";\nimport { checkIsAppPPREnabled } from \"next/dist/server/lib/experimental/ppr\";\nimport { getFallbackRouteParams } from \"next/dist/server/request/fallback-params\";\nimport { setReferenceManifestsSingleton } from \"next/dist/server/app-render/encryption-utils\";\nimport { isHtmlBotRequest, shouldServeStreamingMetadata } from \"next/dist/server/lib/streaming-metadata\";\nimport { createServerModuleMap } from \"next/dist/server/app-render/action-utils\";\nimport { normalizeAppPath } from \"next/dist/shared/lib/router/utils/app-paths\";\nimport { getIsPossibleServerAction } from \"next/dist/server/lib/server-action-request-meta\";\nimport { RSC_HEADER, NEXT_ROUTER_PREFETCH_HEADER, NEXT_IS_PRERENDER_HEADER, NEXT_DID_POSTPONE_HEADER, RSC_CONTENT_TYPE_HEADER } from \"next/dist/client/components/app-router-headers\";\nimport { getBotType, isBot } from \"next/dist/shared/lib/router/utils/is-bot\";\nimport { CachedRouteKind } from \"next/dist/server/response-cache\";\nimport { FallbackMode, parseFallbackField } from \"next/dist/lib/fallback\";\nimport RenderResult from \"next/dist/server/render-result\";\nimport { CACHE_ONE_YEAR, HTML_CONTENT_TYPE_HEADER, NEXT_CACHE_TAGS_HEADER } from \"next/dist/lib/constants\";\nimport { ENCODED_TAGS } from \"next/dist/server/stream-utils/encoded-tags\";\nimport { sendRenderResult } from \"next/dist/server/send-payload\";\nimport { NoFallbackError } from \"next/dist/shared/lib/no-fallback-error.external\";\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'dashboard',\n        {\n        children: [\n        'music',\n        {\n        children: [\n        '[id]',\n        {\n        children: [\n        'lyrics',\n        {\n        children: ['__PAGE__', {}, {\n          page: [page6, \"/Users/ivanjackson/Desktop/soraveo/video-gen-platform/frontend/app/dashboard/music/[id]/lyrics/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [module5, \"/Users/ivanjackson/Desktop/soraveo/video-gen-platform/frontend/app/dashboard/layout.tsx\"],\n        \n      }\n      ]\n      },\n        {\n        'layout': [module0, \"/Users/ivanjackson/Desktop/soraveo/video-gen-platform/frontend/app/layout.tsx\"],\n'global-error': [module1, \"next/dist/client/components/builtin/global-error.js\"],\n'not-found': [module2, \"next/dist/client/components/builtin/not-found.js\"],\n'forbidden': [module3, \"next/dist/client/components/builtin/forbidden.js\"],\n'unauthorized': [module4, \"next/dist/client/components/builtin/unauthorized.js\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/Users/ivanjackson/Desktop/soraveo/video-gen-platform/frontend/app/dashboard/music/[id]/lyrics/page.tsx\"];\nexport { tree, pages };\nimport GlobalError from \"next/dist/client/components/builtin/global-error.js\" with {\n    'turbopack-transition': 'next-server-utility'\n};\nexport { GlobalError };\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nexport const __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\nimport * as entryBase from \"next/dist/server/app-render/entry-base\" with {\n    'turbopack-transition': 'next-server-utility'\n};\nimport { RedirectStatusCode } from \"next/dist/client/components/redirect-status-code\";\nexport * from \"next/dist/server/app-render/entry-base\" with {\n    'turbopack-transition': 'next-server-utility'\n};\n// Create and export the route module that will be consumed.\nexport const routeModule = new AppPageRouteModule({\n    definition: {\n        kind: RouteKind.APP_PAGE,\n        page: \"/dashboard/music/[id]/lyrics/page\",\n        pathname: \"/dashboard/music/[id]/lyrics\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: '',\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    },\n    distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n    relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || ''\n});\nexport async function handler(req, res, ctx) {\n    var _this;\n    let srcPage = \"/dashboard/music/[id]/lyrics/page\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (process.env.TURBOPACK) {\n        srcPage = srcPage.replace(/\\/index$/, '') || '/';\n    } else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = process.env.__NEXT_MULTI_ZONE_DRAFT_MODE;\n    const initialPostponed = getRequestMeta(req, 'postponed');\n    // TODO: replace with more specific flags\n    const minimalMode = getRequestMeta(req, 'minimalMode');\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, query, params, parsedUrl, pageIsDynamic, buildManifest, nextFontManifest, reactLoadableManifest, serverActionsManifest, clientReferenceManifest, subresourceIntegrityManifest, prerenderManifest, isDraftMode, resolvedPathname, revalidateOnlyGenerated, routerServerContext, nextConfig, interceptionRoutePatterns } = prepareResult;\n    const pathname = parsedUrl.pathname || '/';\n    const normalizedSrcPage = normalizeAppPath(srcPage);\n    let { isOnDemandRevalidate } = prepareResult;\n    const prerenderInfo = routeModule.match(pathname, prerenderManifest);\n    const isPrerendered = !!prerenderManifest.routes[resolvedPathname];\n    let isSSG = Boolean(prerenderInfo || isPrerendered || prerenderManifest.routes[normalizedSrcPage]);\n    const userAgent = req.headers['user-agent'] || '';\n    const botType = getBotType(userAgent);\n    const isHtmlBot = isHtmlBotRequest(req);\n    /**\n   * If true, this indicates that the request being made is for an app\n   * prefetch request.\n   */ const isPrefetchRSCRequest = getRequestMeta(req, 'isPrefetchRSCRequest') ?? req.headers[NEXT_ROUTER_PREFETCH_HEADER] === '1' // exclude runtime prefetches, which use '2'\n    ;\n    // NOTE: Don't delete headers[RSC] yet, it still needs to be used in renderToHTML later\n    const isRSCRequest = getRequestMeta(req, 'isRSCRequest') ?? Boolean(req.headers[RSC_HEADER]);\n    const isPossibleServerAction = getIsPossibleServerAction(req);\n    /**\n   * If the route being rendered is an app page, and the ppr feature has been\n   * enabled, then the given route _could_ support PPR.\n   */ const couldSupportPPR = checkIsAppPPREnabled(nextConfig.experimental.ppr);\n    // When enabled, this will allow the use of the `?__nextppronly` query to\n    // enable debugging of the static shell.\n    const hasDebugStaticShellQuery = process.env.__NEXT_EXPERIMENTAL_STATIC_SHELL_DEBUGGING === '1' && typeof query.__nextppronly !== 'undefined' && couldSupportPPR;\n    // When enabled, this will allow the use of the `?__nextppronly` query\n    // to enable debugging of the fallback shell.\n    const hasDebugFallbackShellQuery = hasDebugStaticShellQuery && query.__nextppronly === 'fallback';\n    // This page supports PPR if it is marked as being `PARTIALLY_STATIC` in the\n    // prerender manifest and this is an app page.\n    const isRoutePPREnabled = couldSupportPPR && (((_this = prerenderManifest.routes[normalizedSrcPage] ?? prerenderManifest.dynamicRoutes[normalizedSrcPage]) == null ? void 0 : _this.renderingMode) === 'PARTIALLY_STATIC' || // Ideally we'd want to check the appConfig to see if this page has PPR\n    // enabled or not, but that would require plumbing the appConfig through\n    // to the server during development. We assume that the page supports it\n    // but only during development.\n    hasDebugStaticShellQuery && (routeModule.isDev === true || (routerServerContext == null ? void 0 : routerServerContext.experimentalTestProxy) === true));\n    const isDebugStaticShell = hasDebugStaticShellQuery && isRoutePPREnabled;\n    // We should enable debugging dynamic accesses when the static shell\n    // debugging has been enabled and we're also in development mode.\n    const isDebugDynamicAccesses = isDebugStaticShell && routeModule.isDev === true;\n    const isDebugFallbackShell = hasDebugFallbackShellQuery && isRoutePPREnabled;\n    // If we're in minimal mode, then try to get the postponed information from\n    // the request metadata. If available, use it for resuming the postponed\n    // render.\n    const minimalPostponed = isRoutePPREnabled ? initialPostponed : undefined;\n    // If PPR is enabled, and this is a RSC request (but not a prefetch), then\n    // we can use this fact to only generate the flight data for the request\n    // because we can't cache the HTML (as it's also dynamic).\n    const isDynamicRSCRequest = isRoutePPREnabled && isRSCRequest && !isPrefetchRSCRequest;\n    // Need to read this before it's stripped by stripFlightHeaders. We don't\n    // need to transfer it to the request meta because it's only read\n    // within this function; the static segment data should have already been\n    // generated, so we will always either return a static response or a 404.\n    const segmentPrefetchHeader = getRequestMeta(req, 'segmentPrefetchRSCRequest');\n    // TODO: investigate existing bug with shouldServeStreamingMetadata always\n    // being true for a revalidate due to modifying the base-server this.renderOpts\n    // when fixing this to correct logic it causes hydration issue since we set\n    // serveStreamingMetadata to true during export\n    let serveStreamingMetadata = !userAgent ? true : shouldServeStreamingMetadata(userAgent, nextConfig.htmlLimitedBots);\n    if (isHtmlBot && isRoutePPREnabled) {\n        isSSG = false;\n        serveStreamingMetadata = false;\n    }\n    // In development, we always want to generate dynamic HTML.\n    let supportsDynamicResponse = // If we're in development, we always support dynamic HTML, unless it's\n    // a data request, in which case we only produce static HTML.\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isSSG || // If this request has provided postponed data, it supports dynamic\n    // HTML.\n    typeof initialPostponed === 'string' || // If this is a dynamic RSC request, then this render supports dynamic\n    // HTML (it's dynamic).\n    isDynamicRSCRequest;\n    // When html bots request PPR page, perform the full dynamic rendering.\n    const shouldWaitOnAllReady = isHtmlBot && isRoutePPREnabled;\n    let ssgCacheKey = null;\n    if (!isDraftMode && isSSG && !supportsDynamicResponse && !isPossibleServerAction && !minimalPostponed && !isDynamicRSCRequest) {\n        ssgCacheKey = resolvedPathname;\n    }\n    // the staticPathKey differs from ssgCacheKey since\n    // ssgCacheKey is null in dev since we're always in \"dynamic\"\n    // mode in dev to bypass the cache, but we still need to honor\n    // dynamicParams = false in dev mode\n    let staticPathKey = ssgCacheKey;\n    if (!staticPathKey && routeModule.isDev) {\n        staticPathKey = resolvedPathname;\n    }\n    // If this is a request for an app path that should be statically generated\n    // and we aren't in the edge runtime, strip the flight headers so it will\n    // generate the static response.\n    if (!routeModule.isDev && !isDraftMode && isSSG && isRSCRequest && !isDynamicRSCRequest) {\n        stripFlightHeaders(req.headers);\n    }\n    const ComponentMod = {\n        ...entryBase,\n        tree,\n        pages,\n        GlobalError,\n        handler,\n        routeModule,\n        __next_app__\n    };\n    // Before rendering (which initializes component tree modules), we have to\n    // set the reference manifests to our global store so Server Action's\n    // encryption util can access to them at the top level of the page module.\n    if (serverActionsManifest && clientReferenceManifest) {\n        setReferenceManifestsSingleton({\n            page: srcPage,\n            clientReferenceManifest,\n            serverActionsManifest,\n            serverModuleMap: createServerModuleMap({\n                serverActionsManifest\n            })\n        });\n    }\n    const method = req.method || 'GET';\n    const tracer = getTracer();\n    const activeSpan = tracer.getActiveScopeSpan();\n    try {\n        const varyHeader = routeModule.getVaryHeader(resolvedPathname, interceptionRoutePatterns);\n        res.setHeader('Vary', varyHeader);\n        const invokeRouteModule = async (span, context)=>{\n            const nextReq = new NodeNextRequest(req);\n            const nextRes = new NodeNextResponse(res);\n            // TODO: adapt for putting the RDC inside the postponed data\n            // If we're in dev, and this isn't a prefetch or a server action,\n            // we should seed the resume data cache.\n            if (process.env.NODE_ENV === 'development') {\n                if (nextConfig.experimental.cacheComponents && !isPrefetchRSCRequest && !context.renderOpts.isPossibleServerAction) {\n                    const warmup = await routeModule.warmup(nextReq, nextRes, context);\n                    // If the warmup is successful, we should use the resume data\n                    // cache from the warmup.\n                    if (warmup.metadata.renderResumeDataCache) {\n                        context.renderOpts.renderResumeDataCache = warmup.metadata.renderResumeDataCache;\n                    }\n                }\n            }\n            return routeModule.render(nextReq, nextRes, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const doRender = async ({ span, postponed, fallbackRouteParams })=>{\n            const context = {\n                query,\n                params,\n                page: normalizedSrcPage,\n                sharedContext: {\n                    buildId\n                },\n                serverComponentsHmrCache: getRequestMeta(req, 'serverComponentsHmrCache'),\n                fallbackRouteParams,\n                renderOpts: {\n                    App: ()=>null,\n                    Document: ()=>null,\n                    pageConfig: {},\n                    ComponentMod,\n                    Component: interopDefault(ComponentMod),\n                    params,\n                    routeModule,\n                    page: srcPage,\n                    postponed,\n                    shouldWaitOnAllReady,\n                    serveStreamingMetadata,\n                    supportsDynamicResponse: typeof postponed === 'string' || supportsDynamicResponse,\n                    buildManifest,\n                    nextFontManifest,\n                    reactLoadableManifest,\n                    subresourceIntegrityManifest,\n                    serverActionsManifest,\n                    clientReferenceManifest,\n                    setIsrStatus: routerServerContext == null ? void 0 : routerServerContext.setIsrStatus,\n                    dir: process.env.NEXT_RUNTIME === 'nodejs' ? require('path').join(/* turbopackIgnore: true */ process.cwd(), routeModule.relativeProjectDir) : `${process.cwd()}/${routeModule.relativeProjectDir}`,\n                    isDraftMode,\n                    isRevalidate: isSSG && !postponed && !isDynamicRSCRequest,\n                    botType,\n                    isOnDemandRevalidate,\n                    isPossibleServerAction,\n                    assetPrefix: nextConfig.assetPrefix,\n                    nextConfigOutput: nextConfig.output,\n                    crossOrigin: nextConfig.crossOrigin,\n                    trailingSlash: nextConfig.trailingSlash,\n                    previewProps: prerenderManifest.preview,\n                    deploymentId: nextConfig.deploymentId,\n                    enableTainting: nextConfig.experimental.taint,\n                    htmlLimitedBots: nextConfig.htmlLimitedBots,\n                    devtoolSegmentExplorer: nextConfig.experimental.devtoolSegmentExplorer,\n                    reactMaxHeadersLength: nextConfig.reactMaxHeadersLength,\n                    multiZoneDraftMode,\n                    incrementalCache: getRequestMeta(req, 'incrementalCache'),\n                    cacheLifeProfiles: nextConfig.experimental.cacheLife,\n                    basePath: nextConfig.basePath,\n                    serverActions: nextConfig.experimental.serverActions,\n                    ...isDebugStaticShell || isDebugDynamicAccesses ? {\n                        nextExport: true,\n                        supportsDynamicResponse: false,\n                        isStaticGeneration: true,\n                        isRevalidate: true,\n                        isDebugDynamicAccesses: isDebugDynamicAccesses\n                    } : {},\n                    experimental: {\n                        isRoutePPREnabled,\n                        expireTime: nextConfig.expireTime,\n                        staleTimes: nextConfig.experimental.staleTimes,\n                        cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                        clientSegmentCache: Boolean(nextConfig.experimental.clientSegmentCache),\n                        clientParamParsing: Boolean(nextConfig.experimental.clientParamParsing),\n                        dynamicOnHover: Boolean(nextConfig.experimental.dynamicOnHover),\n                        inlineCss: Boolean(nextConfig.experimental.inlineCss),\n                        authInterrupts: Boolean(nextConfig.experimental.authInterrupts),\n                        clientTraceMetadata: nextConfig.experimental.clientTraceMetadata || []\n                    },\n                    waitUntil: ctx.waitUntil,\n                    onClose: (cb)=>{\n                        res.on('close', cb);\n                    },\n                    onAfterTaskError: ()=>{},\n                    onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext),\n                    err: getRequestMeta(req, 'invokeError'),\n                    dev: routeModule.isDev\n                }\n            };\n            const result = await invokeRouteModule(span, context);\n            const { metadata } = result;\n            const { cacheControl, headers = {}, // Add any fetch tags that were on the page to the response headers.\n            fetchTags: cacheTags } = metadata;\n            if (cacheTags) {\n                headers[NEXT_CACHE_TAGS_HEADER] = cacheTags;\n            }\n            // Pull any fetch metrics from the render onto the request.\n            ;\n            req.fetchMetrics = metadata.fetchMetrics;\n            // we don't throw static to dynamic errors in dev as isSSG\n            // is a best guess in dev since we don't have the prerender pass\n            // to know whether the path is actually static or not\n            if (isSSG && (cacheControl == null ? void 0 : cacheControl.revalidate) === 0 && !routeModule.isDev && !isRoutePPREnabled) {\n                const staticBailoutInfo = metadata.staticBailoutInfo;\n                const err = Object.defineProperty(new Error(`Page changed from static to dynamic at runtime ${resolvedPathname}${(staticBailoutInfo == null ? void 0 : staticBailoutInfo.description) ? `, reason: ${staticBailoutInfo.description}` : ``}` + `\\nsee more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E132\",\n                    enumerable: false,\n                    configurable: true\n                });\n                if (staticBailoutInfo == null ? void 0 : staticBailoutInfo.stack) {\n                    const stack = staticBailoutInfo.stack;\n                    err.stack = err.message + stack.substring(stack.indexOf('\\n'));\n                }\n                throw err;\n            }\n            return {\n                value: {\n                    kind: CachedRouteKind.APP_PAGE,\n                    html: result,\n                    headers,\n                    rscData: metadata.flightData,\n                    postponed: metadata.postponed,\n                    status: metadata.statusCode,\n                    segmentData: metadata.segmentData\n                },\n                cacheControl\n            };\n        };\n        const responseGenerator = async ({ hasResolved, previousCacheEntry, isRevalidating, span })=>{\n            const isProduction = routeModule.isDev === false;\n            const didRespond = hasResolved || res.writableEnded;\n            // skip on-demand revalidate if cache is not present and\n            // revalidate-if-generated is set\n            if (isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry && !minimalMode) {\n                if (routerServerContext == null ? void 0 : routerServerContext.render404) {\n                    await routerServerContext.render404(req, res);\n                } else {\n                    res.statusCode = 404;\n                    res.end('This page could not be found');\n                }\n                return null;\n            }\n            let fallbackMode;\n            if (prerenderInfo) {\n                fallbackMode = parseFallbackField(prerenderInfo.fallback);\n            }\n            // When serving a HTML bot request, we want to serve a blocking render and\n            // not the prerendered page. This ensures that the correct content is served\n            // to the bot in the head.\n            if (fallbackMode === FallbackMode.PRERENDER && isBot(userAgent)) {\n                if (!isRoutePPREnabled || isHtmlBot) {\n                    fallbackMode = FallbackMode.BLOCKING_STATIC_RENDER;\n                }\n            }\n            if ((previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) === -1) {\n                isOnDemandRevalidate = true;\n            }\n            // TODO: adapt for PPR\n            // only allow on-demand revalidate for fallback: true/blocking\n            // or for prerendered fallback: false paths\n            if (isOnDemandRevalidate && (fallbackMode !== FallbackMode.NOT_FOUND || previousCacheEntry)) {\n                fallbackMode = FallbackMode.BLOCKING_STATIC_RENDER;\n            }\n            if (!minimalMode && fallbackMode !== FallbackMode.BLOCKING_STATIC_RENDER && staticPathKey && !didRespond && !isDraftMode && pageIsDynamic && (isProduction || !isPrerendered)) {\n                // if the page has dynamicParams: false and this pathname wasn't\n                // prerendered trigger the no fallback handling\n                if (// In development, fall through to render to handle missing\n                // getStaticPaths.\n                (isProduction || prerenderInfo) && // When fallback isn't present, abort this render so we 404\n                fallbackMode === FallbackMode.NOT_FOUND) {\n                    throw new NoFallbackError();\n                }\n                let fallbackResponse;\n                if (isRoutePPREnabled && !isRSCRequest) {\n                    const cacheKey = typeof (prerenderInfo == null ? void 0 : prerenderInfo.fallback) === 'string' ? prerenderInfo.fallback : isProduction ? normalizedSrcPage : null;\n                    // We use the response cache here to handle the revalidation and\n                    // management of the fallback shell.\n                    fallbackResponse = await routeModule.handleResponse({\n                        cacheKey,\n                        req,\n                        nextConfig,\n                        routeKind: RouteKind.APP_PAGE,\n                        isFallback: true,\n                        prerenderManifest,\n                        isRoutePPREnabled,\n                        responseGenerator: async ()=>doRender({\n                                span,\n                                // We pass `undefined` as rendering a fallback isn't resumed\n                                // here.\n                                postponed: undefined,\n                                fallbackRouteParams: // If we're in production or we're debugging the fallback\n                                // shell then we should postpone when dynamic params are\n                                // accessed.\n                                isProduction || isDebugFallbackShell ? getFallbackRouteParams(normalizedSrcPage) : null\n                            }),\n                        waitUntil: ctx.waitUntil\n                    });\n                    // If the fallback response was set to null, then we should return null.\n                    if (fallbackResponse === null) return null;\n                    // Otherwise, if we did get a fallback response, we should return it.\n                    if (fallbackResponse) {\n                        // Remove the cache control from the response to prevent it from being\n                        // used in the surrounding cache.\n                        delete fallbackResponse.cacheControl;\n                        return fallbackResponse;\n                    }\n                }\n            }\n            // Only requests that aren't revalidating can be resumed. If we have the\n            // minimal postponed data, then we should resume the render with it.\n            const postponed = !isOnDemandRevalidate && !isRevalidating && minimalPostponed ? minimalPostponed : undefined;\n            // When we're in minimal mode, if we're trying to debug the static shell,\n            // we should just return nothing instead of resuming the dynamic render.\n            if ((isDebugStaticShell || isDebugDynamicAccesses) && typeof postponed !== 'undefined') {\n                return {\n                    cacheControl: {\n                        revalidate: 1,\n                        expire: undefined\n                    },\n                    value: {\n                        kind: CachedRouteKind.PAGES,\n                        html: RenderResult.EMPTY,\n                        pageData: {},\n                        headers: undefined,\n                        status: undefined\n                    }\n                };\n            }\n            // If this is a dynamic route with PPR enabled and the default route\n            // matches were set, then we should pass the fallback route params to\n            // the renderer as this is a fallback revalidation request.\n            const fallbackRouteParams = pageIsDynamic && isRoutePPREnabled && (getRequestMeta(req, 'renderFallbackShell') || isDebugFallbackShell) ? getFallbackRouteParams(pathname) : null;\n            // Perform the render.\n            return doRender({\n                span,\n                postponed,\n                fallbackRouteParams\n            });\n        };\n        const handleResponse = async (span)=>{\n            var _cacheEntry_value, _cachedData_headers;\n            const cacheEntry = await routeModule.handleResponse({\n                cacheKey: ssgCacheKey,\n                responseGenerator: (c)=>responseGenerator({\n                        span,\n                        ...c\n                    }),\n                routeKind: RouteKind.APP_PAGE,\n                isOnDemandRevalidate,\n                isRoutePPREnabled,\n                req,\n                nextConfig,\n                prerenderManifest,\n                waitUntil: ctx.waitUntil\n            });\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            // In dev, we should not cache pages for any reason.\n            if (routeModule.isDev) {\n                res.setHeader('Cache-Control', 'no-store, must-revalidate');\n            }\n            if (!cacheEntry) {\n                if (ssgCacheKey) {\n                    // A cache entry might not be generated if a response is written\n                    // in `getInitialProps` or `getServerSideProps`, but those shouldn't\n                    // have a cache key. If we do have a cache key but we don't end up\n                    // with a cache entry, then either Next.js or the application has a\n                    // bug that needs fixing.\n                    throw Object.defineProperty(new Error('invariant: cache entry required but not generated'), \"__NEXT_ERROR_CODE\", {\n                        value: \"E62\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                }\n                return null;\n            }\n            if (((_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== CachedRouteKind.APP_PAGE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant app-page handler received invalid cache entry ${(_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E707\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            const didPostpone = typeof cacheEntry.value.postponed === 'string';\n            if (isSSG && // We don't want to send a cache header for requests that contain dynamic\n            // data. If this is a Dynamic RSC request or wasn't a Prefetch RSC\n            // request, then we should set the cache header.\n            !isDynamicRSCRequest && (!didPostpone || isPrefetchRSCRequest)) {\n                if (!minimalMode) {\n                    // set x-nextjs-cache header to match the header\n                    // we set for the image-optimizer\n                    res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n                }\n                // Set a header used by the client router to signal the response is static\n                // and should respect the `static` cache staleTime value.\n                res.setHeader(NEXT_IS_PRERENDER_HEADER, '1');\n            }\n            const { value: cachedData } = cacheEntry;\n            // Coerce the cache control parameter from the render.\n            let cacheControl;\n            // If this is a resume request in minimal mode it is streamed with dynamic\n            // content and should not be cached.\n            if (minimalPostponed) {\n                cacheControl = {\n                    revalidate: 0,\n                    expire: undefined\n                };\n            } else if (minimalMode && isRSCRequest && !isPrefetchRSCRequest && isRoutePPREnabled) {\n                cacheControl = {\n                    revalidate: 0,\n                    expire: undefined\n                };\n            } else if (!routeModule.isDev) {\n                // If this is a preview mode request, we shouldn't cache it\n                if (isDraftMode) {\n                    cacheControl = {\n                        revalidate: 0,\n                        expire: undefined\n                    };\n                } else if (!isSSG) {\n                    if (!res.getHeader('Cache-Control')) {\n                        cacheControl = {\n                            revalidate: 0,\n                            expire: undefined\n                        };\n                    }\n                } else if (cacheEntry.cacheControl) {\n                    // If the cache entry has a cache control with a revalidate value that's\n                    // a number, use it.\n                    if (typeof cacheEntry.cacheControl.revalidate === 'number') {\n                        var _cacheEntry_cacheControl;\n                        if (cacheEntry.cacheControl.revalidate < 1) {\n                            throw Object.defineProperty(new Error(`Invalid revalidate configuration provided: ${cacheEntry.cacheControl.revalidate} < 1`), \"__NEXT_ERROR_CODE\", {\n                                value: \"E22\",\n                                enumerable: false,\n                                configurable: true\n                            });\n                        }\n                        cacheControl = {\n                            revalidate: cacheEntry.cacheControl.revalidate,\n                            expire: ((_cacheEntry_cacheControl = cacheEntry.cacheControl) == null ? void 0 : _cacheEntry_cacheControl.expire) ?? nextConfig.expireTime\n                        };\n                    } else {\n                        cacheControl = {\n                            revalidate: CACHE_ONE_YEAR,\n                            expire: undefined\n                        };\n                    }\n                }\n            }\n            cacheEntry.cacheControl = cacheControl;\n            if (typeof segmentPrefetchHeader === 'string' && (cachedData == null ? void 0 : cachedData.kind) === CachedRouteKind.APP_PAGE && cachedData.segmentData) {\n                var _cachedData_headers1;\n                // This is a prefetch request issued by the client Segment Cache. These\n                // should never reach the application layer (lambda). We should either\n                // respond from the cache (HIT) or respond with 204 No Content (MISS).\n                // Set a header to indicate that PPR is enabled for this route. This\n                // lets the client distinguish between a regular cache miss and a cache\n                // miss due to PPR being disabled. In other contexts this header is used\n                // to indicate that the response contains dynamic data, but here we're\n                // only using it to indicate that the feature is enabled — the segment\n                // response itself contains whether the data is dynamic.\n                res.setHeader(NEXT_DID_POSTPONE_HEADER, '2');\n                // Add the cache tags header to the response if it exists and we're in\n                // minimal mode while rendering a static page.\n                const tags = (_cachedData_headers1 = cachedData.headers) == null ? void 0 : _cachedData_headers1[NEXT_CACHE_TAGS_HEADER];\n                if (minimalMode && isSSG && tags && typeof tags === 'string') {\n                    res.setHeader(NEXT_CACHE_TAGS_HEADER, tags);\n                }\n                const matchedSegment = cachedData.segmentData.get(segmentPrefetchHeader);\n                if (matchedSegment !== undefined) {\n                    // Cache hit\n                    return sendRenderResult({\n                        req,\n                        res,\n                        generateEtags: nextConfig.generateEtags,\n                        poweredByHeader: nextConfig.poweredByHeader,\n                        result: RenderResult.fromStatic(matchedSegment, RSC_CONTENT_TYPE_HEADER),\n                        cacheControl: cacheEntry.cacheControl\n                    });\n                }\n                // Cache miss. Either a cache entry for this route has not been generated\n                // (which technically should not be possible when PPR is enabled, because\n                // at a minimum there should always be a fallback entry) or there's no\n                // match for the requested segment. Respond with a 204 No Content. We\n                // don't bother to respond with 404, because these requests are only\n                // issued as part of a prefetch.\n                res.statusCode = 204;\n                return sendRenderResult({\n                    req,\n                    res,\n                    generateEtags: nextConfig.generateEtags,\n                    poweredByHeader: nextConfig.poweredByHeader,\n                    result: RenderResult.EMPTY,\n                    cacheControl: cacheEntry.cacheControl\n                });\n            }\n            // If there's a callback for `onCacheEntry`, call it with the cache entry\n            // and the revalidate options.\n            const onCacheEntry = getRequestMeta(req, 'onCacheEntry');\n            if (onCacheEntry) {\n                const finished = await onCacheEntry({\n                    ...cacheEntry,\n                    // TODO: remove this when upstream doesn't\n                    // always expect this value to be \"PAGE\"\n                    value: {\n                        ...cacheEntry.value,\n                        kind: 'PAGE'\n                    }\n                }, {\n                    url: getRequestMeta(req, 'initURL')\n                });\n                if (finished) {\n                    // TODO: maybe we have to end the request?\n                    return null;\n                }\n            }\n            // If the request has a postponed state and it's a resume request we\n            // should error.\n            if (didPostpone && minimalPostponed) {\n                throw Object.defineProperty(new Error('Invariant: postponed state should not be present on a resume request'), \"__NEXT_ERROR_CODE\", {\n                    value: \"E396\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (cachedData.headers) {\n                const headers = {\n                    ...cachedData.headers\n                };\n                if (!minimalMode || !isSSG) {\n                    delete headers[NEXT_CACHE_TAGS_HEADER];\n                }\n                for (let [key, value] of Object.entries(headers)){\n                    if (typeof value === 'undefined') continue;\n                    if (Array.isArray(value)) {\n                        for (const v of value){\n                            res.appendHeader(key, v);\n                        }\n                    } else if (typeof value === 'number') {\n                        value = value.toString();\n                        res.appendHeader(key, value);\n                    } else {\n                        res.appendHeader(key, value);\n                    }\n                }\n            }\n            // Add the cache tags header to the response if it exists and we're in\n            // minimal mode while rendering a static page.\n            const tags = (_cachedData_headers = cachedData.headers) == null ? void 0 : _cachedData_headers[NEXT_CACHE_TAGS_HEADER];\n            if (minimalMode && isSSG && tags && typeof tags === 'string') {\n                res.setHeader(NEXT_CACHE_TAGS_HEADER, tags);\n            }\n            // If the request is a data request, then we shouldn't set the status code\n            // from the response because it should always be 200. This should be gated\n            // behind the experimental PPR flag.\n            if (cachedData.status && (!isRSCRequest || !isRoutePPREnabled)) {\n                res.statusCode = cachedData.status;\n            }\n            // Redirect information is encoded in RSC payload, so we don't need to use redirect status codes\n            if (!minimalMode && cachedData.status && RedirectStatusCode[cachedData.status] && isRSCRequest) {\n                res.statusCode = 200;\n            }\n            // Mark that the request did postpone.\n            if (didPostpone) {\n                res.setHeader(NEXT_DID_POSTPONE_HEADER, '1');\n            }\n            // we don't go through this block when preview mode is true\n            // as preview mode is a dynamic request (bypasses cache) and doesn't\n            // generate both HTML and payloads in the same request so continue to just\n            // return the generated payload\n            if (isRSCRequest && !isDraftMode) {\n                // If this is a dynamic RSC request, then stream the response.\n                if (typeof cachedData.rscData === 'undefined') {\n                    if (cachedData.postponed) {\n                        throw Object.defineProperty(new Error('Invariant: Expected postponed to be undefined'), \"__NEXT_ERROR_CODE\", {\n                            value: \"E372\",\n                            enumerable: false,\n                            configurable: true\n                        });\n                    }\n                    return sendRenderResult({\n                        req,\n                        res,\n                        generateEtags: nextConfig.generateEtags,\n                        poweredByHeader: nextConfig.poweredByHeader,\n                        result: cachedData.html,\n                        // Dynamic RSC responses cannot be cached, even if they're\n                        // configured with `force-static` because we have no way of\n                        // distinguishing between `force-static` and pages that have no\n                        // postponed state.\n                        // TODO: distinguish `force-static` from pages with no postponed state (static)\n                        cacheControl: isDynamicRSCRequest ? {\n                            revalidate: 0,\n                            expire: undefined\n                        } : cacheEntry.cacheControl\n                    });\n                }\n                // As this isn't a prefetch request, we should serve the static flight\n                // data.\n                return sendRenderResult({\n                    req,\n                    res,\n                    generateEtags: nextConfig.generateEtags,\n                    poweredByHeader: nextConfig.poweredByHeader,\n                    result: RenderResult.fromStatic(cachedData.rscData, RSC_CONTENT_TYPE_HEADER),\n                    cacheControl: cacheEntry.cacheControl\n                });\n            }\n            // This is a request for HTML data.\n            let body = cachedData.html;\n            // If there's no postponed state, we should just serve the HTML. This\n            // should also be the case for a resume request because it's completed\n            // as a server render (rather than a static render).\n            if (!didPostpone || minimalMode || isRSCRequest) {\n                // If we're in test mode, we should add a sentinel chunk to the response\n                // that's between the static and dynamic parts so we can compare the\n                // chunks and add assertions.\n                if (process.env.__NEXT_TEST_MODE && minimalMode && isRoutePPREnabled && body.contentType === HTML_CONTENT_TYPE_HEADER) {\n                    // As we're in minimal mode, the static part would have already been\n                    // streamed first. The only part that this streams is the dynamic part\n                    // so we should FIRST stream the sentinel and THEN the dynamic part.\n                    body.unshift(createPPRBoundarySentinel());\n                }\n                return sendRenderResult({\n                    req,\n                    res,\n                    generateEtags: nextConfig.generateEtags,\n                    poweredByHeader: nextConfig.poweredByHeader,\n                    result: body,\n                    cacheControl: cacheEntry.cacheControl\n                });\n            }\n            // If we're debugging the static shell or the dynamic API accesses, we\n            // should just serve the HTML without resuming the render. The returned\n            // HTML will be the static shell so all the Dynamic API's will be used\n            // during static generation.\n            if (isDebugStaticShell || isDebugDynamicAccesses) {\n                // Since we're not resuming the render, we need to at least add the\n                // closing body and html tags to create valid HTML.\n                body.push(new ReadableStream({\n                    start (controller) {\n                        controller.enqueue(ENCODED_TAGS.CLOSED.BODY_AND_HTML);\n                        controller.close();\n                    }\n                }));\n                return sendRenderResult({\n                    req,\n                    res,\n                    generateEtags: nextConfig.generateEtags,\n                    poweredByHeader: nextConfig.poweredByHeader,\n                    result: body,\n                    cacheControl: {\n                        revalidate: 0,\n                        expire: undefined\n                    }\n                });\n            }\n            // If we're in test mode, we should add a sentinel chunk to the response\n            // that's between the static and dynamic parts so we can compare the\n            // chunks and add assertions.\n            if (process.env.__NEXT_TEST_MODE) {\n                body.push(createPPRBoundarySentinel());\n            }\n            // This request has postponed, so let's create a new transformer that the\n            // dynamic data can pipe to that will attach the dynamic data to the end\n            // of the response.\n            const transformer = new TransformStream();\n            body.push(transformer.readable);\n            // Perform the render again, but this time, provide the postponed state.\n            // We don't await because we want the result to start streaming now, and\n            // we've already chained the transformer's readable to the render result.\n            doRender({\n                span,\n                postponed: cachedData.postponed,\n                // This is a resume render, not a fallback render, so we don't need to\n                // set this.\n                fallbackRouteParams: null\n            }).then(async (result)=>{\n                var _result_value;\n                if (!result) {\n                    throw Object.defineProperty(new Error('Invariant: expected a result to be returned'), \"__NEXT_ERROR_CODE\", {\n                        value: \"E463\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                }\n                if (((_result_value = result.value) == null ? void 0 : _result_value.kind) !== CachedRouteKind.APP_PAGE) {\n                    var _result_value1;\n                    throw Object.defineProperty(new Error(`Invariant: expected a page response, got ${(_result_value1 = result.value) == null ? void 0 : _result_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                        value: \"E305\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                }\n                // Pipe the resume result to the transformer.\n                await result.value.html.pipeTo(transformer.writable);\n            }).catch((err)=>{\n                // An error occurred during piping or preparing the render, abort\n                // the transformers writer so we can terminate the stream.\n                transformer.writable.abort(err).catch((e)=>{\n                    console.error(\"couldn't abort transformer\", e);\n                });\n            });\n            return sendRenderResult({\n                req,\n                res,\n                generateEtags: nextConfig.generateEtags,\n                poweredByHeader: nextConfig.poweredByHeader,\n                result: body,\n                // We don't want to cache the response if it has postponed data because\n                // the response being sent to the client it's dynamic parts are streamed\n                // to the client on the same request.\n                cacheControl: {\n                    revalidate: 0,\n                    expire: undefined\n                }\n            });\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            return await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        // if we aren't wrapped by base-server handle here\n        if (!activeSpan && !(err instanceof NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: srcPage,\n                routeType: 'render',\n                revalidateReason: getRevalidateReason({\n                    isRevalidate: isSSG,\n                    isOnDemandRevalidate\n                })\n            }, routerServerContext);\n        }\n        // rethrow so that we can handle serving error page\n        throw err;\n    }\n}\n// TODO: omit this from production builds, only test builds should include it\n/**\n * Creates a readable stream that emits a PPR boundary sentinel.\n *\n * @returns A readable stream that emits a PPR boundary sentinel.\n */ function createPPRBoundarySentinel() {\n    return new ReadableStream({\n        start (controller) {\n            controller.enqueue(new TextEncoder().encode('<!-- PPR_BOUNDARY_SENTINEL -->'));\n            controller.close();\n        }\n    });\n}\n\n//# sourceMappingURL=app-page.js.map\n","var _self___RSC_MANIFEST;\nimport \"next/dist/server/web/globals\";\nimport { adapter } from \"next/dist/server/web/adapter\";\nimport { IncrementalCache } from \"next/dist/server/lib/incremental-cache\";\nimport * as pageMod from \"next-app-loader?name=app%2Fdashboard%2Fmusic%2F%5Bid%5D%2Flyrics%2Fpage&page=%2Fdashboard%2Fmusic%2F%5Bid%5D%2Flyrics%2Fpage&pagePath=private-next-app-dir%2Fdashboard%2Fmusic%2F%5Bid%5D%2Flyrics%2Fpage.tsx&appDir=%2FUsers%2Fivanjackson%2FDesktop%2Fsoraveo%2Fvideo-gen-platform%2Ffrontend%2Fapp&appPaths=%2Fdashboard%2Fmusic%2F%5Bid%5D%2Flyrics%2Fpage&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!private-next-app-dir/dashboard/music/[id]/lyrics/page.tsx?__next_edge_ssr_entry__\";\nimport { setReferenceManifestsSingleton } from \"next/dist/server/app-render/encryption-utils\";\nimport { createServerModuleMap } from \"next/dist/server/app-render/action-utils\";\nimport { initializeCacheHandlers } from \"next/dist/server/use-cache/handlers\";\nimport { BaseServerSpan } from \"next/dist/server/lib/trace/constants\";\nimport { getTracer, SpanKind } from \"next/dist/server/lib/trace/tracer\";\nimport { WebNextRequest, WebNextResponse } from \"next/dist/server/base-http/web\";\nimport { getIsPossibleServerAction } from \"next/dist/server/lib/server-action-request-meta\";\nimport { getBotType } from \"next/dist/shared/lib/router/utils/is-bot\";\nimport { interopDefault } from \"next/dist/lib/interop-default\";\nimport { normalizeAppPath } from \"next/dist/shared/lib/router/utils/app-paths\";\nimport { checkIsOnDemandRevalidate } from \"next/dist/server/api-utils\";\nimport { CloseController } from \"next/dist/server/web/web-on-close\";\nconst incrementalCacheHandler = null\n// Initialize the cache handlers interface.\ninitializeCacheHandlers();\nconst nextConfig = {\"env\":{\"NEXT_PUBLIC_API_URL\":\"https://ai-singer-studio-production.ivanleejackson.workers.dev\"},\"webpack\":null,\"eslint\":{\"ignoreDuringBuilds\":true},\"typescript\":{\"ignoreBuildErrors\":true,\"tsconfigPath\":\"tsconfig.json\"},\"typedRoutes\":false,\"distDir\":\".next\",\"cleanDistDir\":true,\"assetPrefix\":\"\",\"cacheMaxMemorySize\":52428800,\"configOrigin\":\"next.config.js\",\"useFileSystemPublicRoutes\":true,\"generateEtags\":true,\"pageExtensions\":[\"tsx\",\"ts\",\"jsx\",\"js\"],\"poweredByHeader\":true,\"compress\":true,\"images\":{\"deviceSizes\":[640,750,828,1080,1200,1920,2048,3840],\"imageSizes\":[16,32,48,64,96,128,256,384],\"path\":\"/_next/image\",\"loader\":\"default\",\"loaderFile\":\"\",\"domains\":[],\"disableStaticImages\":false,\"minimumCacheTTL\":60,\"formats\":[\"image/webp\"],\"dangerouslyAllowSVG\":false,\"contentSecurityPolicy\":\"script-src 'none'; frame-src 'none'; sandbox;\",\"contentDispositionType\":\"attachment\",\"remotePatterns\":[],\"unoptimized\":true},\"devIndicators\":{\"position\":\"bottom-left\"},\"onDemandEntries\":{\"maxInactiveAge\":60000,\"pagesBufferLength\":5},\"amp\":{\"canonicalBase\":\"\"},\"basePath\":\"\",\"sassOptions\":{},\"trailingSlash\":false,\"i18n\":null,\"productionBrowserSourceMaps\":false,\"excludeDefaultMomentLocales\":true,\"serverRuntimeConfig\":{},\"publicRuntimeConfig\":{},\"reactProductionProfiling\":false,\"reactStrictMode\":true,\"reactMaxHeadersLength\":6000,\"httpAgentOptions\":{\"keepAlive\":true},\"logging\":{},\"compiler\":{},\"expireTime\":31536000,\"staticPageGenerationTimeout\":60,\"modularizeImports\":{\"@mui/icons-material\":{\"transform\":\"@mui/icons-material/{{member}}\"},\"lodash\":{\"transform\":\"lodash/{{member}}\"}},\"outputFileTracingRoot\":\"/Users/ivanjackson\",\"experimental\":{\"useSkewCookie\":false,\"cacheLife\":{\"default\":{\"stale\":300,\"revalidate\":900,\"expire\":4294967294},\"seconds\":{\"stale\":30,\"revalidate\":1,\"expire\":60},\"minutes\":{\"stale\":300,\"revalidate\":60,\"expire\":3600},\"hours\":{\"stale\":300,\"revalidate\":3600,\"expire\":86400},\"days\":{\"stale\":300,\"revalidate\":86400,\"expire\":604800},\"weeks\":{\"stale\":300,\"revalidate\":604800,\"expire\":2592000},\"max\":{\"stale\":300,\"revalidate\":2592000,\"expire\":4294967294}},\"cacheHandlers\":{},\"cssChunking\":true,\"multiZoneDraftMode\":false,\"appNavFailHandling\":false,\"prerenderEarlyExit\":true,\"serverMinification\":true,\"serverSourceMaps\":false,\"linkNoTouchStart\":false,\"caseSensitiveRoutes\":false,\"clientSegmentCache\":false,\"clientParamParsing\":false,\"dynamicOnHover\":false,\"preloadEntriesOnStart\":true,\"clientRouterFilter\":true,\"clientRouterFilterRedirects\":false,\"fetchCacheKeyPrefix\":\"\",\"middlewarePrefetch\":\"flexible\",\"optimisticClientCache\":true,\"manualClientBasePath\":false,\"cpus\":11,\"memoryBasedWorkersCount\":false,\"imgOptConcurrency\":null,\"imgOptTimeoutInSeconds\":7,\"imgOptMaxInputPixels\":268402689,\"imgOptSequentialRead\":null,\"imgOptSkipMetadata\":null,\"isrFlushToDisk\":true,\"workerThreads\":false,\"optimizeCss\":false,\"nextScriptWorkers\":false,\"scrollRestoration\":false,\"externalDir\":false,\"disableOptimizedLoading\":false,\"gzipSize\":true,\"craCompat\":false,\"esmExternals\":true,\"fullySpecified\":false,\"swcTraceProfiling\":false,\"forceSwcTransforms\":false,\"largePageDataBytes\":128000,\"typedEnv\":false,\"parallelServerCompiles\":false,\"parallelServerBuildTraces\":false,\"ppr\":false,\"authInterrupts\":false,\"webpackMemoryOptimizations\":false,\"optimizeServerReact\":true,\"viewTransition\":false,\"routerBFCache\":false,\"removeUncaughtErrorAndRejectionListeners\":false,\"validateRSCRequestHeaders\":false,\"staleTimes\":{\"dynamic\":0,\"static\":300},\"serverComponentsHmrCache\":true,\"staticGenerationMaxConcurrency\":8,\"staticGenerationMinPagesPerWorker\":25,\"cacheComponents\":false,\"inlineCss\":false,\"useCache\":false,\"globalNotFound\":false,\"devtoolSegmentExplorer\":true,\"browserDebugInfoInTerminal\":false,\"optimizeRouterScrolling\":false,\"optimizePackageImports\":[\"lucide-react\",\"date-fns\",\"lodash-es\",\"ramda\",\"antd\",\"react-bootstrap\",\"ahooks\",\"@ant-design/icons\",\"@headlessui/react\",\"@headlessui-float/react\",\"@heroicons/react/20/solid\",\"@heroicons/react/24/solid\",\"@heroicons/react/24/outline\",\"@visx/visx\",\"@tremor/react\",\"rxjs\",\"@mui/material\",\"@mui/icons-material\",\"recharts\",\"react-use\",\"effect\",\"@effect/schema\",\"@effect/platform\",\"@effect/platform-node\",\"@effect/platform-browser\",\"@effect/platform-bun\",\"@effect/sql\",\"@effect/sql-mssql\",\"@effect/sql-mysql2\",\"@effect/sql-pg\",\"@effect/sql-sqlite-node\",\"@effect/sql-sqlite-bun\",\"@effect/sql-sqlite-wasm\",\"@effect/sql-sqlite-react-native\",\"@effect/rpc\",\"@effect/rpc-http\",\"@effect/typeclass\",\"@effect/experimental\",\"@effect/opentelemetry\",\"@material-ui/core\",\"@material-ui/icons\",\"@tabler/icons-react\",\"mui-core\",\"react-icons/ai\",\"react-icons/bi\",\"react-icons/bs\",\"react-icons/cg\",\"react-icons/ci\",\"react-icons/di\",\"react-icons/fa\",\"react-icons/fa6\",\"react-icons/fc\",\"react-icons/fi\",\"react-icons/gi\",\"react-icons/go\",\"react-icons/gr\",\"react-icons/hi\",\"react-icons/hi2\",\"react-icons/im\",\"react-icons/io\",\"react-icons/io5\",\"react-icons/lia\",\"react-icons/lib\",\"react-icons/lu\",\"react-icons/md\",\"react-icons/pi\",\"react-icons/ri\",\"react-icons/rx\",\"react-icons/si\",\"react-icons/sl\",\"react-icons/tb\",\"react-icons/tfi\",\"react-icons/ti\",\"react-icons/vsc\",\"react-icons/wi\"]},\"htmlLimitedBots\":\"[\\\\w-]+-Google|Google-[\\\\w-]+|Chrome-Lighthouse|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|Yeti|googleweblight\",\"bundlePagesRouterDependencies\":false,\"configFile\":\"/Users/ivanjackson/Desktop/soraveo/video-gen-platform/frontend/next.config.js\",\"configFileName\":\"next.config.js\",\"turbopack\":{\"root\":\"/Users/ivanjackson\"}}\nconst maybeJSONParse = (str)=>str ? JSON.parse(str) : undefined;\nconst rscManifest = (_self___RSC_MANIFEST = self.__RSC_MANIFEST) == null ? void 0 : _self___RSC_MANIFEST[\"/dashboard/music/[id]/lyrics/page\"];\nconst rscServerManifest = maybeJSONParse(self.__RSC_SERVER_MANIFEST);\nif (rscManifest && rscServerManifest) {\n    setReferenceManifestsSingleton({\n        page: \"/dashboard/music/[id]/lyrics/page\",\n        clientReferenceManifest: rscManifest,\n        serverActionsManifest: rscServerManifest,\n        serverModuleMap: createServerModuleMap({\n            serverActionsManifest: rscServerManifest\n        })\n    });\n}\nexport const ComponentMod = pageMod;\nasync function requestHandler(req, event) {\n    let srcPage = \"/dashboard/music/[id]/lyrics/page\";\n    const normalizedSrcPage = normalizeAppPath(srcPage);\n    const relativeUrl = `${req.nextUrl.pathname}${req.nextUrl.search}`;\n    const baseReq = new WebNextRequest(req);\n    const baseRes = new WebNextResponse(undefined);\n    const pageRouteModule = pageMod.routeModule;\n    const prepareResult = await pageRouteModule.prepare(baseReq, null, {\n        srcPage,\n        multiZoneDraftMode: false\n    });\n    if (!prepareResult) {\n        return new Response('Bad Request', {\n            status: 400\n        });\n    }\n    const { query, params, buildId, buildManifest, prerenderManifest, reactLoadableManifest, clientReferenceManifest, subresourceIntegrityManifest, dynamicCssManifest, nextFontManifest, resolvedPathname, serverActionsManifest, interceptionRoutePatterns, routerServerContext } = prepareResult;\n    const isPossibleServerAction = getIsPossibleServerAction(req);\n    const botType = getBotType(req.headers.get('User-Agent') || '');\n    const { isOnDemandRevalidate } = checkIsOnDemandRevalidate(req, prerenderManifest.preview);\n    const closeController = new CloseController();\n    const renderContext = {\n        page: normalizedSrcPage,\n        query,\n        params,\n        sharedContext: {\n            buildId\n        },\n        fallbackRouteParams: null,\n        renderOpts: {\n            App: ()=>null,\n            Document: ()=>null,\n            pageConfig: {},\n            ComponentMod,\n            Component: interopDefault(ComponentMod),\n            routeModule: pageRouteModule,\n            params,\n            page: srcPage,\n            postponed: undefined,\n            shouldWaitOnAllReady: false,\n            serveStreamingMetadata: true,\n            supportsDynamicResponse: true,\n            buildManifest,\n            nextFontManifest,\n            reactLoadableManifest,\n            subresourceIntegrityManifest,\n            dynamicCssManifest,\n            serverActionsManifest,\n            clientReferenceManifest,\n            setIsrStatus: routerServerContext == null ? void 0 : routerServerContext.setIsrStatus,\n            dir: pageRouteModule.relativeProjectDir,\n            botType,\n            isDraftMode: false,\n            isRevalidate: false,\n            isOnDemandRevalidate,\n            isPossibleServerAction,\n            assetPrefix: nextConfig.assetPrefix,\n            nextConfigOutput: nextConfig.output,\n            crossOrigin: nextConfig.crossOrigin,\n            trailingSlash: nextConfig.trailingSlash,\n            previewProps: prerenderManifest.preview,\n            deploymentId: nextConfig.deploymentId,\n            enableTainting: nextConfig.experimental.taint,\n            htmlLimitedBots: nextConfig.htmlLimitedBots,\n            devtoolSegmentExplorer: nextConfig.experimental.devtoolSegmentExplorer,\n            reactMaxHeadersLength: nextConfig.reactMaxHeadersLength,\n            multiZoneDraftMode: false,\n            cacheLifeProfiles: nextConfig.experimental.cacheLife,\n            basePath: nextConfig.basePath,\n            serverActions: nextConfig.experimental.serverActions,\n            experimental: {\n                isRoutePPREnabled: false,\n                expireTime: nextConfig.expireTime,\n                staleTimes: nextConfig.experimental.staleTimes,\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                clientSegmentCache: Boolean(nextConfig.experimental.clientSegmentCache),\n                clientParamParsing: Boolean(nextConfig.experimental.clientParamParsing),\n                dynamicOnHover: Boolean(nextConfig.experimental.dynamicOnHover),\n                inlineCss: Boolean(nextConfig.experimental.inlineCss),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts),\n                clientTraceMetadata: nextConfig.experimental.clientTraceMetadata || []\n            },\n            incrementalCache: await pageRouteModule.getIncrementalCache(baseReq, nextConfig, prerenderManifest),\n            waitUntil: event.waitUntil.bind(event),\n            onClose: (cb)=>{\n                closeController.onClose(cb);\n            },\n            onAfterTaskError: ()=>{},\n            onInstrumentationRequestError: (error, _request, errorContext)=>pageRouteModule.onRequestError(baseReq, error, errorContext, routerServerContext),\n            dev: pageRouteModule.isDev\n        }\n    };\n    let finalStatus = 200;\n    const renderResultToResponse = (result)=>{\n        const varyHeader = pageRouteModule.getVaryHeader(resolvedPathname, interceptionRoutePatterns);\n        // Handle null responses\n        if (result.isNull) {\n            finalStatus = 500;\n            closeController.dispatchClose();\n            return new Response(null, {\n                status: 500\n            });\n        }\n        // Extract metadata\n        const { metadata } = result;\n        const headers = new Headers();\n        finalStatus = metadata.statusCode || baseRes.statusCode || 200;\n        req.fetchMetrics = metadata.fetchMetrics;\n        // Set content type\n        const contentType = result.contentType || 'text/html; charset=utf-8';\n        headers.set('Content-Type', contentType);\n        headers.set('x-edge-runtime', '1');\n        if (varyHeader) {\n            headers.set('Vary', varyHeader);\n        }\n        // Add existing headers\n        for (const [key, value] of Object.entries({\n            ...baseRes.getHeaders(),\n            ...metadata.headers\n        })){\n            if (value !== undefined) {\n                if (Array.isArray(value)) {\n                    // Handle multiple header values\n                    for (const v of value){\n                        headers.append(key, String(v));\n                    }\n                } else {\n                    headers.set(key, String(value));\n                }\n            }\n        }\n        // Handle static response\n        if (!result.isDynamic) {\n            const body = result.toUnchunkedString();\n            headers.set('Content-Length', String(new TextEncoder().encode(body).length));\n            closeController.dispatchClose();\n            return new Response(body, {\n                status: finalStatus,\n                headers\n            });\n        }\n        // Handle dynamic/streaming response\n        // For edge runtime, we need to create a readable stream that pipes from the result\n        const { readable, writable } = new TransformStream();\n        // Start piping the result to the writable stream\n        // This is done asynchronously to avoid blocking the response creation\n        result.pipeTo(writable).catch((err)=>{\n            console.error('Error piping RenderResult to response:', err);\n        }).finally(()=>closeController.dispatchClose());\n        return new Response(readable, {\n            status: finalStatus,\n            headers\n        });\n    };\n    const invokeRender = async (span)=>{\n        try {\n            const result = await pageRouteModule.render(baseReq, baseRes, renderContext).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': finalStatus,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = normalizedSrcPage;\n                if (route) {\n                    const name = `${req.method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${req.method} ${relativeUrl}`);\n                }\n            });\n            return renderResultToResponse(result);\n        } catch (err) {\n            await pageRouteModule.onRequestError(baseReq, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'render',\n                revalidateReason: undefined\n            });\n            // rethrow so that we can handle serving error page\n            throw err;\n        }\n    };\n    const tracer = getTracer();\n    return tracer.withPropagatedContext(req.headers, ()=>tracer.trace(BaseServerSpan.handleRequest, {\n            spanName: `${req.method} ${relativeUrl}`,\n            kind: SpanKind.SERVER,\n            attributes: {\n                'http.method': req.method,\n                'http.target': relativeUrl,\n                'http.route': normalizedSrcPage\n            }\n        }, invokeRender));\n}\nexport default function nHandler(opts) {\n    return adapter({\n        ...opts,\n        IncrementalCache,\n        handler: requestHandler,\n        incrementalCacheHandler\n    });\n}\n\n//# sourceMappingURL=edge-ssr-app.js.map\n"],"names":["runtime","SECTION_TYPES","value","label","color","EditLyricsPage","params","useParams","router","useRouter","songId","id","song","setSong","useState","singer","setSinger","lyricVersions","setLyricVersions","loading","setLoading","saving","setSaving","error","setError","successMessage","setSuccessMessage","editMode","setEditMode","lyricsText","setLyricsText","sections","setSections","language","setLanguage","writtenBy","setWrittenBy","updateSection","index","updates","map","section","i","moveSection","direction","length","newSections","swapIndex","forEach","order","handleSave","payload","text","undefined","some","s","trim","type","name","musicAPI","updateLyrics","setTimeout","push","err","console","Error","message","div","className","svg","fill","stroke","viewBox","path","strokeLinecap","strokeLinejoin","strokeWidth","d","h2","p","Link","href","span","h1","title","button","onClick","textarea","onChange","e","target","placeholder","rows","split","filter","w","addSection","newSection","disabled","getSectionColor","find","select","option","input","removeSection","_","h3","slice","version","versionNumber","Date","createdAt","toLocaleString","strong"],"sourceRoot":"","ignoreList":[4]}