(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[754],{63:(e,t,s)=>{"use strict";var l=s(7260);s.o(l,"useParams")&&s.d(t,{useParams:function(){return l.useParams}}),s.o(l,"usePathname")&&s.d(t,{usePathname:function(){return l.usePathname}}),s.o(l,"useRouter")&&s.d(t,{useRouter:function(){return l.useRouter}}),s.o(l,"useSearchParams")&&s.d(t,{useSearchParams:function(){return l.useSearchParams}})},2327:(e,t,s)=>{"use strict";s.d(t,{Me:()=>c,R2:()=>d,eM:()=>m,ic:()=>h,lu:()=>u,qT:()=>i,u5:()=>r,vS:()=>x});let l="https://ai-singer-studio-production.ivanleejackson.workers.dev";class r extends Error{constructor(e,t,s){super(e),this.status=t,this.data=s,this.name="APIClientError"}}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if("string"==typeof e)return e;if(!e)return"Request failed";if("object"==typeof e&&t.has(e))return"Request failed (circular reference)";if("object"==typeof e&&t.add(e),"string"==typeof e.message)return e.message;if("string"==typeof e.error)return e.error;if("string"==typeof e.error_description)return e.error_description;if("string"==typeof e.detail)return e.detail;if(Array.isArray(e.errors)){let t=e.errors.map(e=>e.message||e.error||"Unknown error").filter(e=>"string"==typeof e);if(t.length>0)return t.join(", ")}if(Array.isArray(e.issues))return e.issues.map(e=>e.message?e.message:Array.isArray(e.path)&&e.path.length?"".concat(e.path.join("."),": ").concat(e.message||"Invalid value"):"Validation error").join(", ");if(Array.isArray(e)){let s=e.map(e=>"string"==typeof e?e:a(e,t)).filter(e=>e&&"Request failed"!==e);if(s.length>0)return s.join(", ")}if("object"==typeof e.error&&null!==e.error)return a(e.error,t);if("object"==typeof e.message&&null!==e.message)return a(e.message,t);if(e.details)return"string"==typeof e.details?e.details:JSON.stringify(e.details);try{let t=JSON.stringify(e);return t.length>200?t.substring(0,200)+"...":t}catch(e){return"Request failed"}}function o(){let e=localStorage.getItem("token")||localStorage.getItem("authToken")||sessionStorage.getItem("token");return console.log("[API Client] Token found:",!!e),e}async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=o(),n={"Content-Type":"application/json",...t.headers};s&&(n.Authorization="Bearer ".concat(s));let i="".concat(l).concat(e);console.log("[API Client] Request:",t.method||"GET",i);try{let e,s=await fetch(i,{...t,headers:n,credentials:"include"}),l=s.headers.get("content-type"),o=await s.text();if(o)if((null==l?void 0:l.includes("application/json"))||o.trim().startsWith("{")||o.trim().startsWith("["))try{e=JSON.parse(o)}catch(t){e={message:o}}else e={message:o};else e=null;if(!s.ok)throw console.error("[API Client] Error response:",{status:s.status,contentType:l,data:e}),new r(e?a(e):"Request failed with status ".concat(s.status),s.status,e);return console.log("[API Client] Success:",e),e}catch(e){if(e instanceof r)throw e;throw console.error("[API Client] Network error:",e),new r(e instanceof Error?e.message:"Network error occurred")}}let i={async listVoices(e){let t=e?"?category=".concat(encodeURIComponent(e)):"";return n("/api/voices/elevenlabs".concat(t))},getVoice:async e=>n("/api/voices/elevenlabs/".concat(e)),generateVoice:async e=>(console.log("[API Client] Generating voice with params:",e),n("/api/voices/elevenlabs/generate",{method:"POST",body:JSON.stringify(e)})),async cloneVoice(e){let t=o(),s={};t&&(s.Authorization="Bearer ".concat(t)),console.log("[API Client] Cloning voice");let n=await fetch("".concat(l,"/api/voices/elevenlabs/clone"),{method:"POST",headers:s,body:e,credentials:"include"}),i=await n.json();if(!n.ok)throw new r(a(i)||"Voice cloning failed",n.status,i);return i}},c={list:async()=>n("/api/singers"),get:async e=>n("/api/singers/".concat(e)),create:async e=>n("/api/singers",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>n("/api/singers/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:async e=>n("/api/singers/".concat(e),{method:"DELETE"})},d={me:async()=>n("/api/auth/me"),logout:async()=>n("/api/auth/logout",{method:"POST"})},u={getUsage:async()=>n("/api/users/usage"),getQuota:async()=>n("/api/users/me/quota")},m={async list(e){let t=new URLSearchParams;(null==e?void 0:e.type)&&t.set("type",e.type),(null==e?void 0:e.singerId)&&t.set("singerId",e.singerId),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString());let s=t.toString();return n("/api/assets".concat(s?"?".concat(s):""))},get:async e=>n("/api/assets/".concat(e)),delete:async e=>n("/api/assets/".concat(e),{method:"DELETE"}),getStats:async()=>n("/api/assets/stats")},x={async list(e){let t=new URLSearchParams;(null==e?void 0:e.status)&&t.set("status",e.status),(null==e?void 0:e.type)&&t.set("type",e.type),(null==e?void 0:e.singerId)&&t.set("singerId",e.singerId),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString());let s=t.toString();return n("/api/jobs".concat(s?"?".concat(s):""))},get:async e=>n("/api/jobs/".concat(e)),delete:async e=>n("/api/jobs/".concat(e),{method:"DELETE"}),retry:async e=>n("/api/jobs/".concat(e,"/retry"),{method:"POST"}),getStats:async()=>n("/api/jobs/stats")},h={createSong:async e=>n("/api/music/songs",{method:"POST",body:JSON.stringify(e)}),async listSongs(e){let t=new URLSearchParams;(null==e?void 0:e.singerId)&&t.set("singerId",e.singerId),(null==e?void 0:e.status)&&t.set("status",e.status),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString());let s=t.toString();return n("/api/music/songs".concat(s?"?".concat(s):""))},getSong:async e=>n("/api/music/songs/".concat(e)),updateLyrics:async(e,t)=>n("/api/music/songs/".concat(e,"/lyrics"),{method:"POST",body:JSON.stringify(t)}),updateStructure:async(e,t)=>n("/api/music/songs/".concat(e,"/structure"),{method:"POST",body:JSON.stringify(t)}),generateVersion:async(e,t)=>n("/api/music/songs/".concat(e,"/generate"),{method:"POST",body:JSON.stringify(t)}),activateVersion:async(e,t)=>n("/api/music/songs/".concat(e,"/versions/").concat(t,"/activate"),{method:"POST"}),deleteSong:async e=>n("/api/music/songs/".concat(e),{method:"DELETE"})}},5814:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var l=s(5155),r=s(2115),a=s(63),o=s(2327);let n=["Pop","Rock","Hip Hop","R&B","Country","Jazz","Electronic","Classical","Folk","Blues","Reggae","Metal","Punk","Indie","Soul","Funk"],i=["Happy","Sad","Energetic","Calm","Romantic","Angry","Nostalgic","Uplifting","Melancholic","Mysterious","Playful","Dramatic","Chill"],c=["C major","C# major","D major","D# major","E major","F major","F# major","G major","G# major","A major","A# major","B major","C minor","C# minor","D minor","D# minor","E minor","F minor","F# minor","G minor","G# minor","A minor","A# minor","B minor"],d=[{value:"intro",label:"Intro"},{value:"verse",label:"Verse"},{value:"pre-chorus",label:"Pre-Chorus"},{value:"chorus",label:"Chorus"},{value:"post-chorus",label:"Post-Chorus"},{value:"bridge",label:"Bridge"},{value:"outro",label:"Outro"}];function u(){let e=(0,a.useRouter)(),[t,s]=(0,r.useState)("basics"),[u,m]=(0,r.useState)([]),[x,h]=(0,r.useState)(!1),[g,p]=(0,r.useState)(""),[b,f]=(0,r.useState)({singerId:"",title:"",description:"",genre:"",mood:[],bpm:120,key:"C major"}),[v,j]=(0,r.useState)({text:"",language:"en",writtenBy:""}),[y,N]=(0,r.useState)([{type:"intro",name:"Intro",order:0,text:""},{type:"verse",name:"Verse 1",order:1,text:""},{type:"chorus",name:"Chorus",order:2,text:""}]),[w,S]=(0,r.useState)({prompt:"",emotion:"neutral",delivery:"natural",instrumentalVolume:.7,vocalVolume:.8,masteringStyle:"clean"}),[k,C]=(0,r.useState)(null);async function P(){try{let e=await o.Me.list();m(e.singers||[])}catch(e){console.error("[CreateSong] Load singers error:",e)}}function I(e,t){N(y.map((s,l)=>l===e?{...s,...t}:s))}function E(e,t){if("up"===t&&0===e||"down"===t&&e===y.length-1)return;let s=[...y],l="up"===t?e-1:e+1;[s[e],s[l]]=[s[l],s[e]],s.forEach((e,t)=>{e.order=t}),N(s)}async function V(){try{h(!0),p("");let{song:t}=await o.ic.createSong({singerId:b.singerId,title:b.title,description:b.description||void 0,genre:b.genre||void 0,mood:b.mood,bpm:b.bpm,key:b.key});if(C(t.id),v.text.trim()){let e=y.map(e=>({type:e.type,name:e.name,text:e.text,order:e.order}));await o.ic.updateLyrics(t.id,{text:v.text,sections:e,language:v.language,writtenBy:v.writtenBy||void 0})}y.length>0&&await o.ic.updateStructure(t.id,{structure:y.map(e=>({type:e.type,name:e.name,order:e.order}))}),w.prompt.trim()&&await o.ic.generateVersion(t.id,{prompt:w.prompt,vocalSettings:{emotion:w.emotion,delivery:w.delivery},mixSettings:{instrumentalVolume:w.instrumentalVolume,vocalVolume:w.vocalVolume,masteringStyle:w.masteringStyle}}),e.push("/dashboard/music/".concat(t.id))}catch(e){console.error("[CreateSong] Error:",e),p(e instanceof Error?e.message:"Failed to create song"),h(!1)}}function A(){return"basics"!==t||b.singerId&&b.title.trim()&&b.genre&&b.bpm>0}(0,r.useEffect)(()=>{P()},[]);let O={basics:"Song Basics",lyrics:"Write Lyrics",structure:"Define Structure",generate:"Generate Audio"},B=["basics","lyrics","structure","generate"],L=B.indexOf(t);return(0,l.jsx)("div",{className:"min-h-screen p-6 pb-24",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsxs)("button",{onClick:()=>e.push("/dashboard/music"),className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 transition-colors mb-4",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,l.jsx)("span",{className:"font-medium",children:"Back to Music"})]}),(0,l.jsx)("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:"Create New Song"}),(0,l.jsx)("p",{className:"text-lg text-slate-600",children:"Follow the steps to create and generate your song"})]}),(0,l.jsx)("div",{className:"rounded-2xl bg-white/70 backdrop-blur-xl p-6 border border-slate-200/50 shadow-lg mb-6",children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:B.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center flex-1",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,l.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center font-bold transition-all ".concat(t<=L?"bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white":"bg-slate-200 text-slate-500"),children:t<L?(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):t+1}),(0,l.jsx)("p",{className:"text-sm font-semibold mt-2 ".concat(t<=L?"text-slate-900":"text-slate-500"),children:O[e]})]}),t<B.length-1&&(0,l.jsx)("div",{className:"h-1 flex-1 mx-2 rounded-full transition-all ".concat(t<L?"bg-gradient-to-r from-violet-600 to-fuchsia-600":"bg-slate-200")})]},e))})}),g&&(0,l.jsx)("div",{className:"rounded-xl bg-red-50 border border-red-200 p-4 mb-6",children:(0,l.jsxs)("div",{className:"flex items-center gap-2 text-red-600",children:[(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsx)("span",{className:"font-semibold",children:g})]})}),(0,l.jsxs)("div",{className:"rounded-2xl bg-white/70 backdrop-blur-xl p-8 border border-slate-200/50 shadow-lg",children:["basics"===t&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Song Basics"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Select Singer ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsxs)("select",{value:b.singerId,onChange:e=>f({...b,singerId:e.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 focus:outline-none focus:ring-2 focus:ring-violet-500",required:!0,children:[(0,l.jsx)("option",{value:"",children:"Choose a singer..."}),u.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Song Title ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{type:"text",value:b.title,onChange:e=>f({...b,title:e.target.value}),placeholder:"e.g., Midnight Dreams",className:"w-full px-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Description (Optional)"}),(0,l.jsx)("textarea",{value:b.description,onChange:e=>f({...b,description:e.target.value}),placeholder:"Describe your song...",rows:3,className:"w-full px-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500 resize-none"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Genre ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsxs)("select",{value:b.genre,onChange:e=>f({...b,genre:e.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 focus:outline-none focus:ring-2 focus:ring-violet-500",required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select genre..."}),n.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Mood (Select multiple)"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map(e=>(0,l.jsx)("button",{type:"button",onClick:()=>{f(t=>({...t,mood:t.mood.includes(e)?t.mood.filter(t=>t!==e):[...t.mood,e]}))},className:"px-4 py-2 rounded-xl font-semibold transition-all ".concat(b.mood.includes(e)?"bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white":"bg-white border border-slate-200 text-slate-700 hover:bg-slate-50"),children:e},e))})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["BPM ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("input",{type:"number",value:b.bpm,onChange:e=>f({...b,bpm:parseInt(e.target.value)||0}),min:40,max:200,className:"w-full px-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 focus:outline-none focus:ring-2 focus:ring-violet-500",required:!0}),(0,l.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Typical: 60-180 BPM"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Key ",(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,l.jsx)("select",{value:b.key,onChange:e=>f({...b,key:e.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 focus:outline-none focus:ring-2 focus:ring-violet-500",required:!0,children:c.map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]})]})]}),"lyrics"===t&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"flex items-start justify-between mb-6",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Write Lyrics"}),(0,l.jsx)("p",{className:"text-slate-600 mt-1",children:"Add lyrics for your song (optional - can be added later)"})]})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Lyrics"}),(0,l.jsx)("textarea",{value:v.text,onChange:e=>j({...v,text:e.target.value}),placeholder:"Write your lyrics here...  Verse 1: [Your lyrics]  Chorus: [Your lyrics]",rows:15,className:"w-full px-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500 resize-none font-mono"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Language"}),(0,l.jsxs)("select",{value:v.language,onChange:e=>j({...v,language:e.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 focus:outline-none focus:ring-2 focus:ring-violet-500",children:[(0,l.jsx)("option",{value:"en",children:"English"}),(0,l.jsx)("option",{value:"es",children:"Spanish"}),(0,l.jsx)("option",{value:"fr",children:"French"}),(0,l.jsx)("option",{value:"de",children:"German"}),(0,l.jsx)("option",{value:"it",children:"Italian"}),(0,l.jsx)("option",{value:"pt",children:"Portuguese"}),(0,l.jsx)("option",{value:"ja",children:"Japanese"}),(0,l.jsx)("option",{value:"ko",children:"Korean"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Written By (Optional)"}),(0,l.jsx)("input",{type:"text",value:v.writtenBy,onChange:e=>j({...v,writtenBy:e.target.value}),placeholder:"Your name",className:"w-full px-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500"})]})]})]}),"structure"===t&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Define Structure"}),(0,l.jsx)("p",{className:"text-slate-600 mt-1",children:"Organize your song structure (optional)"})]}),(0,l.jsx)("button",{onClick:function(){let e={type:"verse",name:"Verse ".concat(y.filter(e=>"verse"===e.type).length+1),order:y.length,text:""};N([...y,e])},className:"px-4 py-2 rounded-xl bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white font-semibold hover:from-violet-700 hover:to-fuchsia-700 transition-all",children:"+ Add Section"})]}),(0,l.jsx)("div",{className:"space-y-3",children:y.map((e,t)=>(0,l.jsx)("div",{className:"rounded-xl bg-gradient-to-br from-violet-50 to-fuchsia-50 p-4 border border-slate-200/50",children:(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("button",{onClick:()=>E(t,"up"),disabled:0===t,className:"w-8 h-8 rounded-lg bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:"↑"}),(0,l.jsx)("span",{className:"w-8 h-8 rounded-lg bg-violet-600 text-white font-bold flex items-center justify-center text-sm",children:t+1}),(0,l.jsx)("button",{onClick:()=>E(t,"down"),disabled:t===y.length-1,className:"w-8 h-8 rounded-lg bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:"↓"})]}),(0,l.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Type"}),(0,l.jsx)("select",{value:e.type,onChange:e=>I(t,{type:e.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white border border-slate-200 text-slate-900 text-sm focus:outline-none focus:ring-2 focus:ring-violet-500",children:d.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Name"}),(0,l.jsx)("input",{type:"text",value:e.name,onChange:e=>I(t,{name:e.target.value}),placeholder:"e.g., Verse 1",className:"w-full px-3 py-2 rounded-lg bg-white border border-slate-200 text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Lyrics for this section (optional)"}),(0,l.jsx)("textarea",{value:e.text,onChange:e=>I(t,{text:e.target.value}),placeholder:"Enter lyrics for this section...",rows:3,className:"w-full px-3 py-2 rounded-lg bg-white border border-slate-200 text-slate-900 text-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500 resize-none font-mono"})]})]}),(0,l.jsx)("button",{onClick:()=>{N(y.filter((e,s)=>s!==t))},className:"w-8 h-8 rounded-lg bg-red-50 border border-red-200 text-red-600 hover:bg-red-100 transition-all",children:"\xd7"})]})},t))})]}),"generate"===t&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Generate Audio"}),(0,l.jsx)("p",{className:"text-slate-600 mt-1",children:"Configure generation settings (optional - can generate later)"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Generation Prompt"}),(0,l.jsx)("textarea",{value:w.prompt,onChange:e=>S({...w,prompt:e.target.value}),placeholder:"Describe how you want the song to sound... e.g., 'Emotional ballad with soft piano and powerful vocals'",rows:4,className:"w-full px-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500 resize-none"})]}),(0,l.jsxs)("div",{className:"rounded-xl bg-gradient-to-br from-violet-50 to-fuchsia-50 p-6 border border-slate-200/50",children:[(0,l.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Vocal Settings"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Emotion"}),(0,l.jsxs)("select",{value:w.emotion,onChange:e=>S({...w,emotion:e.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 focus:outline-none focus:ring-2 focus:ring-violet-500",children:[(0,l.jsx)("option",{value:"neutral",children:"Neutral"}),(0,l.jsx)("option",{value:"happy",children:"Happy"}),(0,l.jsx)("option",{value:"sad",children:"Sad"}),(0,l.jsx)("option",{value:"angry",children:"Angry"}),(0,l.jsx)("option",{value:"fearful",children:"Fearful"}),(0,l.jsx)("option",{value:"surprised",children:"Surprised"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Delivery"}),(0,l.jsxs)("select",{value:w.delivery,onChange:e=>S({...w,delivery:e.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 focus:outline-none focus:ring-2 focus:ring-violet-500",children:[(0,l.jsx)("option",{value:"natural",children:"Natural"}),(0,l.jsx)("option",{value:"expressive",children:"Expressive"}),(0,l.jsx)("option",{value:"dramatic",children:"Dramatic"}),(0,l.jsx)("option",{value:"soft",children:"Soft"}),(0,l.jsx)("option",{value:"powerful",children:"Powerful"})]})]})]})]}),(0,l.jsxs)("div",{className:"rounded-xl bg-gradient-to-br from-violet-50 to-fuchsia-50 p-6 border border-slate-200/50",children:[(0,l.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Mix Settings"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Instrumental Volume: ",Math.round(100*w.instrumentalVolume),"%"]}),(0,l.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:w.instrumentalVolume,onChange:e=>S({...w,instrumentalVolume:parseFloat(e.target.value)}),className:"w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Vocal Volume: ",Math.round(100*w.vocalVolume),"%"]}),(0,l.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:w.vocalVolume,onChange:e=>S({...w,vocalVolume:parseFloat(e.target.value)}),className:"w-full"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Mastering Style"}),(0,l.jsxs)("select",{value:w.masteringStyle,onChange:e=>S({...w,masteringStyle:e.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white border border-slate-200 text-slate-900 focus:outline-none focus:ring-2 focus:ring-violet-500",children:[(0,l.jsx)("option",{value:"clean",children:"Clean"}),(0,l.jsx)("option",{value:"warm",children:"Warm"}),(0,l.jsx)("option",{value:"bright",children:"Bright"}),(0,l.jsx)("option",{value:"punchy",children:"Punchy"})]})]})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-8 border-t border-slate-200/50",children:[L>0?(0,l.jsx)("button",{onClick:()=>s(B[L-1]),className:"px-6 py-3 rounded-xl bg-white border border-slate-200 text-slate-700 font-semibold hover:bg-slate-50 transition-all",children:"← Previous"}):(0,l.jsx)("div",{}),L<B.length-1?(0,l.jsx)("button",{onClick:()=>s(B[L+1]),disabled:!A(),className:"px-6 py-3 rounded-xl bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white font-semibold hover:from-violet-700 hover:to-fuchsia-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Next →"}):(0,l.jsx)("button",{onClick:V,disabled:x||!A(),className:"px-8 py-3 rounded-xl bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white font-bold text-lg hover:from-violet-700 hover:to-fuchsia-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:x?(0,l.jsxs)("span",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating Song..."]}):"Create Song"})]})]}),(0,l.jsx)("div",{className:"mt-6 rounded-xl bg-blue-50 border border-blue-200 p-4",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("svg",{className:"w-5 h-5 text-blue-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsxs)("p",{className:"text-sm text-blue-900",children:[(0,l.jsx)("strong",{children:"Tip:"})," You can skip optional steps and add details later. Only the basics (singer, title, genre, BPM, key) are required to create a song."]})})]})})]})})}},9235:(e,t,s)=>{Promise.resolve().then(s.bind(s,5814))}},e=>{e.O(0,[441,255,358],()=>e(e.s=9235)),_N_E=e.O()}]);