(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[631],{63:(e,s,t)=>{"use strict";var r=t(7260);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},667:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(5155),a=t(2115),i=t(63),n=t(2327),o=t(1640);function l(){var e;let s=(0,i.useRouter)(),[t,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[m,u]=(0,a.useState)(!0),[h,x]=(0,a.useState)(""),[g,f]=(0,a.useState)(!1);async function j(){try{u(!0),x("");let[e,s]=await Promise.all([n.R2.me(),n.lu.getUsage()]);l(e);let t=s.entitlements||s.quota||s.data||s;d(t),u(!1)}catch(e){console.error("[Settings] Load error:",e),x(e instanceof Error?e.message:"Failed to load settings"),u(!1)}}async function p(){try{f(!0),await n.R2.logout(),localStorage.removeItem("token"),localStorage.removeItem("authToken"),sessionStorage.removeItem("token"),s.push("/sign-in")}catch(e){console.error("[Settings] Logout error:",e),alert("Failed to logout"),f(!1)}}function v(e,s){let t=e+s;return 0===t?0:Math.round(e/t*100)}if((0,a.useEffect)(()=>{j()},[]),m)return(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)(o.tK,{size:"lg",className:"text-primary"})});if(!t||!c)return(0,r.jsx)("div",{className:"space-y-8",children:(0,r.jsx)(o.Zp,{variant:"default",className:"border-error-200 bg-error-50",children:(0,r.jsxs)(o.Wu,{className:"p-6 text-center",children:[(0,r.jsx)(o.EY,{className:"text-error-700 mb-4",children:"Failed to load settings"}),(0,r.jsx)(o.$n,{onClick:()=>j(),variant:"primary",size:"md",children:"Retry"})]})})});let b=v(c.imagesUsed,c.imagesRemaining),y=v(c.songsUsed,c.songsRemaining),N=v(c.videosUsed,c.videosRemaining);return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(o._A,{children:(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(o.DZ,{as:"h1",children:"Account Settings"}),(0,r.jsx)(o.EY,{variant:"muted",className:"mt-2",children:"Manage your profile, subscription, and usage"})]})})}),h&&(0,r.jsx)(o.YE,{children:(0,r.jsx)(o.Zp,{variant:"default",className:"border-error-200 bg-error-50",children:(0,r.jsx)(o.Wu,{className:"p-4",children:(0,r.jsx)(o.EY,{className:"text-error-700",children:h})})})}),(0,r.jsxs)(o.Cm,{children:[(0,r.jsx)(o.FQ,{direction:"bottom",children:(0,r.jsxs)(o.Zp,{variant:"glass",children:[(0,r.jsx)(o.aR,{children:(0,r.jsx)(o.ZB,{children:"Profile Information"})}),(0,r.jsx)(o.Wu,{className:"space-y-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br ".concat(function(e){switch(e.toLowerCase()){case"free":default:return"from-slate-500 to-slate-600";case"pro":return"from-violet-500 to-fuchsia-500";case"premium":return"from-amber-500 to-orange-500"}}(c.tier)," flex items-center justify-center text-white text-3xl font-bold shadow-xl"),children:(null==(e=t.user.name[0])?void 0:e.toUpperCase())||"U"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-1",children:t.user.name}),(0,r.jsx)(o.EY,{variant:"muted",className:"mb-2",children:t.email}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold capitalize border ".concat(function(e){switch(e.toLowerCase()){case"free":default:return"text-slate-700 bg-slate-100 border-slate-200";case"pro":return"text-violet-700 bg-violet-100 border-violet-200";case"premium":return"text-amber-700 bg-amber-100 border-amber-200"}}(c.tier)),children:[c.tier," Plan"]}),(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold capitalize text-green-700 bg-green-100 border border-green-200",children:t.subscriptionStatus})]})]}),(0,r.jsx)(o.$n,{onClick:p,disabled:g,loading:g,variant:"outline",size:"md",className:"text-red-600 hover:bg-red-50 hover:text-red-700",children:g?"Logging out...":"Logout"})]})})]})}),(0,r.jsx)(o.FQ,{direction:"bottom",children:(0,r.jsxs)(o.Zp,{variant:"glass",children:[(0,r.jsx)(o.aR,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(o.ZB,{children:"Subscription"}),"free"===c.tier.toLowerCase()&&(0,r.jsx)(o.$n,{variant:"primary",size:"sm",children:"Upgrade to Pro"})]})}),(0,r.jsx)(o.Wu,{className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-violet-50 to-fuchsia-50 border-2 border-violet-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-600 to-fuchsia-600 flex items-center justify-center text-white",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.EY,{className:"text-sm font-semibold text-violet-700",children:"Current Plan"}),(0,r.jsx)(o.EY,{className:"text-2xl font-bold text-slate-900 capitalize",children:c.tier})]})]}),(0,r.jsxs)(o.EY,{variant:"muted",className:"text-sm",children:["free"===c.tier.toLowerCase()&&"Limited features for testing","pro"===c.tier.toLowerCase()&&"Full access to all features","premium"===c.tier.toLowerCase()&&"Unlimited everything"]})]}),(0,r.jsxs)("div",{className:"p-6 rounded-2xl bg-white/70 border border-slate-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.EY,{className:"text-sm font-semibold text-slate-600",children:"Status"}),(0,r.jsx)(o.EY,{className:"text-2xl font-bold text-green-700 capitalize",children:t.subscriptionStatus})]})]}),(0,r.jsx)(o.EY,{variant:"muted",className:"text-sm",children:"Your subscription is active and working"})]}),(0,r.jsxs)("div",{className:"p-6 rounded-2xl bg-white/70 border border-slate-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.EY,{className:"text-sm font-semibold text-slate-600",children:"Quota Resets"}),(0,r.jsx)(o.EY,{className:"text-lg font-bold text-slate-900",children:new Date(c.resetAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),(0,r.jsx)(o.EY,{variant:"muted",className:"text-sm",children:"Your usage limits will refresh"})]})]})})]})}),(0,r.jsx)(o.FQ,{direction:"bottom",children:(0,r.jsxs)(o.Zp,{variant:"glass",children:[(0,r.jsx)(o.aR,{children:(0,r.jsx)(o.ZB,{children:"Usage Statistics"})}),(0,r.jsxs)(o.Wu,{className:"space-y-8",children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"relative w-16 h-16 flex-shrink-0",children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full ".concat(b>=90?"bg-red-400/30":b>=70?"bg-orange-400/30":"bg-violet-400/30"," blur-xl animate-pulse")}),(0,r.jsxs)("svg",{className:"w-16 h-16 transform -rotate-90 relative",viewBox:"0 0 64 64",children:[(0,r.jsx)("circle",{cx:"32",cy:"32",r:"28",fill:"none",stroke:"currentColor",strokeWidth:"6",className:"text-slate-200"}),(0,r.jsx)("circle",{cx:"32",cy:"32",r:"28",fill:"none",stroke:"url(#imagesGradient)",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:"".concat(2*Math.PI*28),strokeDashoffset:"".concat(2*Math.PI*28*(1-b/100)),className:"transition-all duration-1000 drop-shadow-lg"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"imagesGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:b>=90?"#ef4444":b>=70?"#f97316":"#8b5cf6"}),(0,r.jsx)("stop",{offset:"100%",stopColor:b>=90?"#dc2626":b>=70?"#ea580c":"#d946ef"})]})})]}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-sm font-bold ".concat(b>=90?"text-red-600":b>=70?"text-orange-600":"text-violet-600"),children:[b,"%"]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.EY,{className:"font-semibold text-slate-900",children:"Image Generation"}),(0,r.jsxs)(o.EY,{variant:"muted",className:"text-sm",children:[c.imagesUsed," used • ",c.imagesRemaining," remaining"]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)(o.EY,{className:"text-3xl font-bold text-slate-900",children:c.imagesRemaining}),(0,r.jsx)(o.EY,{variant:"muted",className:"text-xs",children:"left"})]})]})}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"relative w-16 h-16 flex-shrink-0",children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full ".concat(y>=90?"bg-red-400/30":y>=70?"bg-orange-400/30":"bg-fuchsia-400/30"," blur-xl animate-pulse")}),(0,r.jsxs)("svg",{className:"w-16 h-16 transform -rotate-90 relative",viewBox:"0 0 64 64",children:[(0,r.jsx)("circle",{cx:"32",cy:"32",r:"28",fill:"none",stroke:"currentColor",strokeWidth:"6",className:"text-slate-200"}),(0,r.jsx)("circle",{cx:"32",cy:"32",r:"28",fill:"none",stroke:"url(#songsGradient)",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:"".concat(2*Math.PI*28),strokeDashoffset:"".concat(2*Math.PI*28*(1-y/100)),className:"transition-all duration-1000 drop-shadow-lg"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"songsGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:y>=90?"#ef4444":y>=70?"#f97316":"#d946ef"}),(0,r.jsx)("stop",{offset:"100%",stopColor:y>=90?"#dc2626":y>=70?"#ea580c":"#ec4899"})]})})]}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-sm font-bold ".concat(y>=90?"text-red-600":y>=70?"text-orange-600":"text-fuchsia-600"),children:[y,"%"]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.EY,{className:"font-semibold text-slate-900",children:"Song Generation"}),(0,r.jsxs)(o.EY,{variant:"muted",className:"text-sm",children:[c.songsUsed," used • ",c.songsRemaining," remaining"]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)(o.EY,{className:"text-3xl font-bold text-slate-900",children:c.songsRemaining}),(0,r.jsx)(o.EY,{variant:"muted",className:"text-xs",children:"left"})]})]})}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"relative w-16 h-16 flex-shrink-0",children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full ".concat(N>=90?"bg-red-400/30":N>=70?"bg-orange-400/30":"bg-purple-400/30"," blur-xl animate-pulse")}),(0,r.jsxs)("svg",{className:"w-16 h-16 transform -rotate-90 relative",viewBox:"0 0 64 64",children:[(0,r.jsx)("circle",{cx:"32",cy:"32",r:"28",fill:"none",stroke:"currentColor",strokeWidth:"6",className:"text-slate-200"}),(0,r.jsx)("circle",{cx:"32",cy:"32",r:"28",fill:"none",stroke:"url(#videosGradient)",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:"".concat(2*Math.PI*28),strokeDashoffset:"".concat(2*Math.PI*28*(1-N/100)),className:"transition-all duration-1000 drop-shadow-lg"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"videosGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:N>=90?"#ef4444":N>=70?"#f97316":"#9333ea"}),(0,r.jsx)("stop",{offset:"100%",stopColor:N>=90?"#dc2626":N>=70?"#ea580c":"#7e22ce"})]})})]}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-sm font-bold ".concat(N>=90?"text-red-600":N>=70?"text-orange-600":"text-purple-600"),children:[N,"%"]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.EY,{className:"font-semibold text-slate-900",children:"Video Generation"}),(0,r.jsxs)(o.EY,{variant:"muted",className:"text-sm",children:[c.videosUsed," used • ",c.videosRemaining," remaining"]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)(o.EY,{className:"text-3xl font-bold text-slate-900",children:c.videosRemaining}),(0,r.jsx)(o.EY,{variant:"muted",className:"text-xs",children:"left"})]})]})})]})]})}),(0,r.jsx)(o.FQ,{direction:"bottom",children:(0,r.jsxs)(o.Zp,{variant:"glass",children:[(0,r.jsx)(o.aR,{children:(0,r.jsx)(o.ZB,{children:"Quick Actions"})}),(0,r.jsx)(o.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("a",{href:"/dashboard/singers",className:"p-6 rounded-xl bg-white/70 border border-slate-200 hover:border-violet-300 hover:shadow-lg transition-all duration-300 group",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-violet-600 to-fuchsia-600 flex items-center justify-center text-white mb-4 group-hover:scale-110 transition-transform",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})}),(0,r.jsx)(o.EY,{className:"font-bold text-slate-900 mb-1",children:"Manage Singers"}),(0,r.jsx)(o.EY,{variant:"muted",className:"text-sm",children:"Create and edit AI singers"})]}),(0,r.jsxs)("a",{href:"/dashboard/gallery",className:"p-6 rounded-xl bg-white/70 border border-slate-200 hover:border-violet-300 hover:shadow-lg transition-all duration-300 group",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-fuchsia-600 to-pink-600 flex items-center justify-center text-white mb-4 group-hover:scale-110 transition-transform",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,r.jsx)(o.EY,{className:"font-bold text-slate-900 mb-1",children:"View Gallery"}),(0,r.jsx)(o.EY,{variant:"muted",className:"text-sm",children:"Browse generated content"})]}),(0,r.jsxs)("a",{href:"/dashboard/jobs",className:"p-6 rounded-xl bg-white/70 border border-slate-200 hover:border-violet-300 hover:shadow-lg transition-all duration-300 group",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center text-white mb-4 group-hover:scale-110 transition-transform",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,r.jsx)(o.EY,{className:"font-bold text-slate-900 mb-1",children:"Track Jobs"}),(0,r.jsx)(o.EY,{variant:"muted",className:"text-sm",children:"Monitor generation progress"})]})]})})]})})]})]})}},2327:(e,s,t)=>{"use strict";t.d(s,{Me:()=>c,R2:()=>d,eM:()=>u,ic:()=>x,lu:()=>m,qT:()=>l,u5:()=>a,vS:()=>h});let r="https://ai-singer-studio-production.ivanleejackson.workers.dev";class a extends Error{constructor(e,s,t){super(e),this.status=s,this.data=t,this.name="APIClientError"}}function i(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if("string"==typeof e)return e;if(!e)return"Request failed";if("object"==typeof e&&s.has(e))return"Request failed (circular reference)";if("object"==typeof e&&s.add(e),"string"==typeof e.message)return e.message;if("string"==typeof e.error)return e.error;if("string"==typeof e.error_description)return e.error_description;if("string"==typeof e.detail)return e.detail;if(Array.isArray(e.errors)){let s=e.errors.map(e=>e.message||e.error||"Unknown error").filter(e=>"string"==typeof e);if(s.length>0)return s.join(", ")}if(Array.isArray(e.issues))return e.issues.map(e=>e.message?e.message:Array.isArray(e.path)&&e.path.length?"".concat(e.path.join("."),": ").concat(e.message||"Invalid value"):"Validation error").join(", ");if(Array.isArray(e)){let t=e.map(e=>"string"==typeof e?e:i(e,s)).filter(e=>e&&"Request failed"!==e);if(t.length>0)return t.join(", ")}if("object"==typeof e.error&&null!==e.error)return i(e.error,s);if("object"==typeof e.message&&null!==e.message)return i(e.message,s);if(e.details)return"string"==typeof e.details?e.details:JSON.stringify(e.details);try{let s=JSON.stringify(e);return s.length>200?s.substring(0,200)+"...":s}catch(e){return"Request failed"}}function n(){let e=localStorage.getItem("token")||localStorage.getItem("authToken")||sessionStorage.getItem("token");return console.log("[API Client] Token found:",!!e),e}async function o(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n(),o={"Content-Type":"application/json",...s.headers};t&&(o.Authorization="Bearer ".concat(t));let l="".concat(r).concat(e);console.log("[API Client] Request:",s.method||"GET",l);try{let e,t=await fetch(l,{...s,headers:o,credentials:"include"}),r=t.headers.get("content-type"),n=await t.text();if(n)if((null==r?void 0:r.includes("application/json"))||n.trim().startsWith("{")||n.trim().startsWith("["))try{e=JSON.parse(n)}catch(s){e={message:n}}else e={message:n};else e=null;if(!t.ok)throw console.error("[API Client] Error response:",{status:t.status,contentType:r,data:e}),new a(e?i(e):"Request failed with status ".concat(t.status),t.status,e);return console.log("[API Client] Success:",e),e}catch(e){if(e instanceof a)throw e;throw console.error("[API Client] Network error:",e),new a(e instanceof Error?e.message:"Network error occurred")}}let l={async listVoices(e){let s=e?"?category=".concat(encodeURIComponent(e)):"";return o("/api/voices/elevenlabs".concat(s))},getVoice:async e=>o("/api/voices/elevenlabs/".concat(e)),generateVoice:async e=>(console.log("[API Client] Generating voice with params:",e),o("/api/voices/elevenlabs/generate",{method:"POST",body:JSON.stringify(e)})),async cloneVoice(e){let s=n(),t={};s&&(t.Authorization="Bearer ".concat(s)),console.log("[API Client] Cloning voice");let o=await fetch("".concat(r,"/api/voices/elevenlabs/clone"),{method:"POST",headers:t,body:e,credentials:"include"}),l=await o.json();if(!o.ok)throw new a(i(l)||"Voice cloning failed",o.status,l);return l}},c={list:async()=>o("/api/singers"),get:async e=>o("/api/singers/".concat(e)),create:async e=>o("/api/singers",{method:"POST",body:JSON.stringify(e)}),update:async(e,s)=>o("/api/singers/".concat(e),{method:"PUT",body:JSON.stringify(s)}),delete:async e=>o("/api/singers/".concat(e),{method:"DELETE"})},d={me:async()=>o("/api/auth/me"),logout:async()=>o("/api/auth/logout",{method:"POST"})},m={getUsage:async()=>o("/api/users/usage"),getQuota:async()=>o("/api/users/me/quota")},u={async list(e){let s=new URLSearchParams;(null==e?void 0:e.type)&&s.set("type",e.type),(null==e?void 0:e.singerId)&&s.set("singerId",e.singerId),(null==e?void 0:e.limit)&&s.set("limit",e.limit.toString()),(null==e?void 0:e.offset)&&s.set("offset",e.offset.toString());let t=s.toString();return o("/api/assets".concat(t?"?".concat(t):""))},get:async e=>o("/api/assets/".concat(e)),delete:async e=>o("/api/assets/".concat(e),{method:"DELETE"}),getStats:async()=>o("/api/assets/stats")},h={async list(e){let s=new URLSearchParams;(null==e?void 0:e.status)&&s.set("status",e.status),(null==e?void 0:e.type)&&s.set("type",e.type),(null==e?void 0:e.singerId)&&s.set("singerId",e.singerId),(null==e?void 0:e.limit)&&s.set("limit",e.limit.toString()),(null==e?void 0:e.offset)&&s.set("offset",e.offset.toString());let t=s.toString();return o("/api/jobs".concat(t?"?".concat(t):""))},get:async e=>o("/api/jobs/".concat(e)),delete:async e=>o("/api/jobs/".concat(e),{method:"DELETE"}),retry:async e=>o("/api/jobs/".concat(e,"/retry"),{method:"POST"}),getStats:async()=>o("/api/jobs/stats")},x={createSong:async e=>o("/api/music/songs",{method:"POST",body:JSON.stringify(e)}),async listSongs(e){let s=new URLSearchParams;(null==e?void 0:e.singerId)&&s.set("singerId",e.singerId),(null==e?void 0:e.status)&&s.set("status",e.status),(null==e?void 0:e.limit)&&s.set("limit",e.limit.toString()),(null==e?void 0:e.offset)&&s.set("offset",e.offset.toString());let t=s.toString();return o("/api/music/songs".concat(t?"?".concat(t):""))},getSong:async e=>o("/api/music/songs/".concat(e)),updateLyrics:async(e,s)=>o("/api/music/songs/".concat(e,"/lyrics"),{method:"POST",body:JSON.stringify(s)}),updateStructure:async(e,s)=>o("/api/music/songs/".concat(e,"/structure"),{method:"POST",body:JSON.stringify(s)}),generateVersion:async(e,s)=>o("/api/music/songs/".concat(e,"/generate"),{method:"POST",body:JSON.stringify(s)}),activateVersion:async(e,s)=>o("/api/music/songs/".concat(e,"/versions/").concat(s,"/activate"),{method:"POST"}),deleteSong:async e=>o("/api/music/songs/".concat(e),{method:"DELETE"})}},9154:(e,s,t)=>{Promise.resolve().then(t.bind(t,667))}},e=>{e.O(0,[640,441,255,358],()=>e(e.s=9154)),_N_E=e.O()}]);